{
    "project": {
        "name": "new_project",
        "docker_hub_user": "vergnetp",
        "version": "latest",
        "default_server_ip": "localhost",
        "environments": {
            "dev": {
                "services": {
                    "job": {
                        "dockerfile_content": {
                            "1": "FROM python:3.11-alpine",
                            "2": "WORKDIR /app",
                            "3": "COPY requirements_job.txt .",
                            "4": "RUN pip install --no-cache-dir -r requirements_job.txt",
                            "5": "COPY . .",
                            "6": "EXPOSE 8000",
                            "7": "CMD [\"python\", \"job.py\"]"
                        },
                        "build_context": "C:\\Users\\vergn\\Desktop\\Projects\\TEST_PROJECT",
                        "startup_order": 2,
                        "server_zone": "lon1",
                        "servers_count": 2,
                        "restart": false
                    },
                    "worker": {
                        "dockerfile": "config/Dockerfile.worker",
                        "build_context": "C:\\Users\\vergn\\Desktop\\Projects\\TEST_PROJECT",
                        "schedule": "* * * * *",
                        "startup_order": 3,
                        "server_zone": "lon1",
                        "servers_count": 2,
                        "restart": false
                    },
                    "postgres": {
                        "image": "postgres:14",
                        "env_vars": {
                            "POSTGRES_DB": "new_project_1ffb2043",
                            "POSTGRES_USER": "new_project_user",
                            "POSTGRES_PASSWORD_FILE": "/run/secrets/db_password"
                        },
                        "startup_order": 1,
                        "server_zone": "lon1",
                        "servers_count": 1
                    },
                    "redis": {
                        "image": "redis:7-alpine",
                        "command": [
                            "redis-server",
                            "--requirepass",
                            "$(cat /run/secrets/redis_password)"
                        ],
                        "startup_order": 1,
                        "server_zone": "lon1",
                        "servers_count": 1
                    }
                }
            },
            "test": {
                "services": {
                    "job": {
                        "dockerfile_content": {
                            "1": "FROM python:3.11-alpine",
                            "2": "WORKDIR /app",
                            "3": "COPY requirements_job.txt .",
                            "4": "RUN pip install --no-cache-dir -r requirements_job.txt",
                            "5": "COPY . .",
                            "6": "EXPOSE 8000",
                            "7": "CMD [\"python\", \"job.py\"]"
                        },
                        "build_context": "C:\\Users\\vergn\\Desktop\\Projects\\TEST_PROJECT",
                        "startup_order": 2,
                        "server_zone": "lon1",
                        "servers_count": 2,
                        "restart": false
                    },
                    "worker": {
                        "dockerfile": "config/Dockerfile.worker",
                        "build_context": "C:\\Users\\vergn\\Desktop\\Projects\\TEST_PROJECT",
                        "schedule": "* * * * *",
                        "startup_order": 3,
                        "server_zone": "lon1",
                        "servers_count": 2,
                        "restart": false
                    },
                    "postgres": {
                        "image": "postgres:15",
                        "env_vars": {
                            "POSTGRES_DB": "new_project_1b73e1a3",
                            "POSTGRES_USER": "new_project_user",
                            "POSTGRES_PASSWORD_FILE": "/run/secrets/db_password"
                        },
                        "startup_order": 1,
                        "server_zone": "lon1",
                        "servers_count": 1
                    },
                    "redis": {
                        "image": "redis:7-alpine",
                        "command": [
                            "redis-server",
                            "--requirepass",
                            "$(cat /run/secrets/redis_password)"
                        ],
                        "startup_order": 1,
                        "server_zone": "lon1",
                        "servers_count": 1
                    }
                }
            },
            "uat": {
                "services": {
                    "job": {
                        "dockerfile_content": {
                            "1": "FROM python:3.11-alpine",
                            "2": "WORKDIR /app",
                            "3": "COPY requirements_job.txt .",
                            "4": "RUN pip install --no-cache-dir -r requirements_job.txt",
                            "5": "COPY . .",
                            "6": "EXPOSE 8000",
                            "7": "CMD [\"python\", \"job.py\"]"
                        },
                        "build_context": "C:\\Users\\vergn\\Desktop\\Projects\\TEST_PROJECT",
                        "startup_order": 2,
                        "server_zone": "lon1",
                        "servers_count": 2,
                        "restart": false
                    },
                    "worker": {
                        "dockerfile": "config/Dockerfile.worker",
                        "build_context": "C:\\Users\\vergn\\Desktop\\Projects\\TEST_PROJECT",
                        "schedule": "* * * * *",
                        "startup_order": 3,
                        "server_zone": "lon1",
                        "servers_count": 2,
                        "restart": false
                    },
                    "postgres": {
                        "image": "postgres:15",
                        "env_vars": {
                            "POSTGRES_DB": "new_project_ab53efb4",
                            "POSTGRES_USER": "new_project_user",
                            "POSTGRES_PASSWORD_FILE": "/run/secrets/db_password"
                        },
                        "startup_order": 1,
                        "server_zone": "lon1",
                        "servers_count": 1
                    },
                    "redis": {
                        "image": "redis:7-alpine",
                        "command": [
                            "redis-server",
                            "--requirepass",
                            "$(cat /run/secrets/redis_password)"
                        ],
                        "startup_order": 1,
                        "server_zone": "lon1",
                        "servers_count": 1
                    }
                }
            },
            "production": {
                "services": {
                    "job": {
                        "dockerfile_content": {
                            "1": "FROM python:3.11-alpine",
                            "2": "WORKDIR /app",
                            "3": "COPY requirements_job.txt .",
                            "4": "RUN pip install --no-cache-dir -r requirements.txt",
                            "4.1": "RUN useradd -m appuser",
                            "4.2": "RUN chown -R appuser:appuser /app",
                            "5": "COPY . .",
                            "5.1": "USER appuser",
                            "6": "CMD [\"gunicorn\", \"--bind\", \"0.0.0.0:8000\", \"app:app\"]",
                            "7": "CMD [\"python\", \"job.py\"]"
                        },
                        "build_context": "C:\\Users\\vergn\\Desktop\\Projects\\TEST_PROJECT",
                        "startup_order": 2,
                        "server_zone": "lon1",
                        "servers_count": 2,
                        "restart": false
                    },
                    "worker": {
                        "dockerfile": "config/Dockerfile.worker",
                        "build_context": "C:\\Users\\vergn\\Desktop\\Projects\\TEST_PROJECT",
                        "schedule": "* * * * *",
                        "startup_order": 3,
                        "server_zone": "lon1",
                        "servers_count": 2,
                        "restart": false
                    },
                    "postgres": {
                        "image": "postgres:15",
                        "env_vars": {
                            "POSTGRES_DB": "new_project_8e9fb088",
                            "POSTGRES_USER": "new_project_user",
                            "POSTGRES_PASSWORD_FILE": "/run/secrets/db_password"
                        },
                        "startup_order": 1,
                        "server_zone": "lon1",
                        "servers_count": 1
                    },
                    "redis": {
                        "image": "redis:7-alpine",
                        "command": [
                            "redis-server",
                            "--requirepass",
                            "$(cat /run/secrets/redis_password)"
                        ],
                        "startup_order": 1,
                        "server_zone": "lon1",
                        "servers_count": 1
                    }
                }
            }
        }
    }
}