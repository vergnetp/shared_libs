{
    "project": {
        "name": "new_project",
        "docker_hub_user": "vergnetp",
        "version": "latest",
        "default_server_ip": "localhost",
        "services": {
            "job": {
                "dockerfile_content": {
                    "1": "FROM python:3.11-alpine",
                    "2": "WORKDIR /app",
                    "3": "COPY requirements_job.txt .",
                    "4": "RUN pip install --no-cache-dir -r requirements_job.txt",
                    "5": "COPY . .",
                    "6": "EXPOSE 8000",
                    "7": "CMD [\"python\", \"job.py\"]"
                },
                "build_context": "C:\\Users\\Phil\\Desktop\\Projects\\TEST_PROJECT",
                "startup_order": 2,
                "server_zone": "localhost",
                "servers_count": 0,
                "restart": false,
                "volumes": [
                    "C:/local/new_project/{env}/config/job:/app/config:ro",
                    "C:/local/new_project/{env}/secrets/job:/app/secrets:ro",
                    "new_project_{env}_logs_job:/app/logs",
                    "new_project_{env}_data_job:/app/data",
                    "C:/local/new_project/{env}/files:/app/files:ro"
                ]
            },
            "worker": {
                "dockerfile": "config/Dockerfile.worker",
                "build_context": "C:\\Users\\Phil\\Desktop\\Projects\\TEST_PROJECT",
                "schedule": "*/10 * * * * *",
                "startup_order": 3,
                "server_zone": "localhost",
                "servers_count": 0,
                "restart": false,
                "volumes": [
                    "C:/local/new_project/{env}/config/worker:/app/config:ro",
                    "C:/local/new_project/{env}/secrets/worker:/app/secrets:ro",
                    "new_project_{env}_logs_worker:/app/logs",
                    "new_project_{env}_data_worker:/app/data",
                    "C:/local/new_project/{env}/files:/app/files:ro"
                ]
            },
            "postgres": {
                "image": "postgres:15",
                "server_zone": "localhost",
                "servers_count": 0,
                "startup_order": 1,
                "volumes": [
                    "new_project_{env}_data_postgres:/var/lib/postgresql/data",
                    "C:/local/new_project/{env}/config/postgres:/etc/postgresql:ro",
                    "C:/local/new_project/{env}/secrets/postgres:/run/secrets:ro"
                ]
            },
            "redis": {
                "image": "redis:7-alpine",
                "server_zone": "localhost",
                "servers_count": 0,
                "startup_order": 1,
                "volumes": [
                    "new_project_{env}_data_redis:/data",
                    "C:/local/new_project/{env}/config/redis:/usr/local/etc/redis:ro",
                    "C:/local/new_project/{env}/secrets/redis:/run/secrets:ro"
                ]
            }
        },
        "environments": {
            "dev": {
                "services": {
                    "postgres": {
                        "image": "postgres:14"
                    }
                }
            },
            "production": {
                "services": {
                    "job": {
                        "dockerfile_content": {
                            "4": "RUN pip install --no-cache-dir -r requirements.txt",
                            "4.1": "RUN useradd -m appuser",
                            "4.2": "RUN chown -R appuser:appuser /app",
                            "5.1": "USER appuser",
                            "6": "CMD [\"gunicorn\", \"--bind\", \"0.0.0.0:8000\", \"app:app\"]"
                        }
                    }
                }
            }
        }
    }
}