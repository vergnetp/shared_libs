2025-12-21 00:03:26.586 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14224 environment=dev
2025-12-21 00:03:26.613 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.03s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-14224 environment=dev
2025-12-21 00:03:26.618 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14224 environment=dev
2025-12-21 00:03:26.715 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14224 environment=dev
2025-12-21 00:03:30.058 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14224 environment=dev
2025-12-21 00:03:30.809 [WARN] [WARN] retry - async_wrapper -  Max retries (3) exceeded for _execute_statement_async: expressions prohibited in PRIMARY KEY and UNIQUE constraints | component=retry subcomponent=async_wrapper service_name=service-14224 environment=dev
2025-12-21 00:03:30.827 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14224 environment=dev
2025-12-21 00:03:30.858 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14224 environment=dev
2025-12-21 00:03:30.873 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14224 environment=dev
2025-12-21 00:03:30.881 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14224 environment=dev
2025-12-21 00:03:30.896 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14224 environment=dev
2025-12-21 00:06:25.083 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14224 environment=dev
2025-12-21 00:06:25.158 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-14224 environment=dev
2025-12-21 00:06:25.170 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14224 environment=dev
2025-12-21 00:06:25.172 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14224 environment=dev
2025-12-21 00:09:38.224 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25040 environment=dev
2025-12-21 00:09:38.228 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-25040 environment=dev
2025-12-21 00:09:38.229 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25040 environment=dev
2025-12-21 00:09:38.277 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25040 environment=dev
2025-12-21 00:09:40.004 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25040 environment=dev
2025-12-21 00:09:40.015 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25040 environment=dev
2025-12-21 00:09:44.715 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25040 environment=dev
2025-12-21 00:09:45.363 [WARN] [WARN] retry - async_wrapper -  Max retries (3) exceeded for _execute_statement_async: no such column: id | component=retry subcomponent=async_wrapper service_name=service-25040 environment=dev
2025-12-21 00:09:45.376 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25040 environment=dev
2025-12-21 00:09:45.395 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25040 environment=dev
2025-12-21 00:09:45.411 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25040 environment=dev
2025-12-21 00:09:45.419 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25040 environment=dev
2025-12-21 00:09:45.431 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25040 environment=dev
2025-12-21 00:11:55.569 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-25040 environment=dev
2025-12-21 00:11:55.590 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-25040 environment=dev
2025-12-21 00:11:55.596 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25040 environment=dev
2025-12-21 00:11:55.597 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25040 environment=dev
2025-12-21 00:12:55.094 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-11132 environment=dev
2025-12-21 00:12:55.100 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-11132 environment=dev
2025-12-21 00:12:55.100 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11132 environment=dev
2025-12-21 00:12:55.156 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11132 environment=dev
2025-12-21 00:12:56.272 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11132 environment=dev
2025-12-21 00:12:56.280 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11132 environment=dev
2025-12-21 00:13:01.349 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11132 environment=dev
2025-12-21 00:13:01.380 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.387 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.387 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.398 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.398 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.398 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.414 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.414 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.414 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.431 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.438 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.451 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.468 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.480 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.489 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.498 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.498 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.514 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.514 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.514 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11132 environment=dev
2025-12-21 00:13:01.531 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11132 environment=dev
2025-12-21 00:13:01.564 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11132 environment=dev
2025-12-21 00:13:01.571 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11132 environment=dev
2025-12-21 00:13:01.581 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11132 environment=dev
2025-12-21 00:13:01.585 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11132 environment=dev
2025-12-21 00:13:01.601 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11132 environment=dev
2025-12-21 00:13:01.610 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11132 environment=dev
2025-12-21 00:13:01.612 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11132 environment=dev
2025-12-21 00:14:50.564 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-11132 environment=dev
2025-12-21 00:14:50.591 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-11132 environment=dev
2025-12-21 00:14:50.609 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-11132 environment=dev
2025-12-21 00:14:50.614 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-11132 environment=dev
2025-12-21 00:15:01.588 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-16288 environment=dev
2025-12-21 00:15:01.601 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-16288 environment=dev
2025-12-21 00:15:01.603 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:01.659 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:02.532 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:02.532 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:02.558 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:12.858 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:12.869 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:12.869 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:19.725 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:19.745 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.761 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.761 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.761 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.772 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.780 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.780 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.789 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.796 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.812 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.813 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.823 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.829 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.829 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.846 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.846 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16288 environment=dev
2025-12-21 00:15:19.863 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:19.879 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:19.897 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:19.914 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:19.915 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:19.932 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:19.948 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:19.954 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:19.957 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:19.970 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:19.972 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:19.989 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:20.029 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:20.046 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:20.046 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:25.882 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:25.896 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:25.915 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:25.918 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:35.333 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:35.349 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:35.358 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:35.361 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:41.409 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:41.414 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:41.430 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:43.891 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:43.925 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:43.927 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:43.953 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:43.964 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:43.968 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:43.975 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:43.990 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:43.996 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:43.996 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:44.015 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:44.026 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:44.034 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:15:44.046 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:44.057 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16288 environment=dev
2025-12-21 00:15:44.060 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16288 environment=dev
2025-12-21 00:17:45.962 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16288 environment=dev
2025-12-21 00:17:46.004 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-16288 environment=dev
2025-12-21 00:17:46.020 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-16288 environment=dev
2025-12-21 00:17:46.020 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-16288 environment=dev
2025-12-21 00:19:29.426 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26584 environment=dev
2025-12-21 00:19:29.435 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-26584 environment=dev
2025-12-21 00:19:29.435 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:29.495 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26584 environment=dev
2025-12-21 00:19:29.495 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:33.826 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:33.828 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26584 environment=dev
2025-12-21 00:19:33.840 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:36.053 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:36.069 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26584 environment=dev
2025-12-21 00:19:36.069 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:42.045 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:42.045 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26584 environment=dev
2025-12-21 00:19:42.062 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:48.903 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:48.947 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26584 environment=dev
2025-12-21 00:19:48.962 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:48.980 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:48.994 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26584 environment=dev
2025-12-21 00:19:48.996 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:49.008 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:19:49.017 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26584 environment=dev
2025-12-21 00:19:49.017 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26584 environment=dev
2025-12-21 00:20:30.762 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-26584 environment=dev
2025-12-21 00:20:30.763 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-26584 environment=dev
2025-12-21 00:20:30.776 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26584 environment=dev
2025-12-21 00:20:30.778 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26584 environment=dev
2025-12-21 00:21:58.275 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25932 environment=dev
2025-12-21 00:21:58.280 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-25932 environment=dev
2025-12-21 00:21:58.282 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:21:58.334 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25932 environment=dev
2025-12-21 00:21:58.342 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:21:59.971 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:21:59.976 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25932 environment=dev
2025-12-21 00:21:59.993 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:22:02.601 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:22:02.611 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25932 environment=dev
2025-12-21 00:22:02.611 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:22:05.576 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:22:05.606 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25932 environment=dev
2025-12-21 00:22:05.609 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:22:05.625 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:22:05.625 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25932 environment=dev
2025-12-21 00:22:05.625 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:22:05.644 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:22:05.653 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:22:05.657 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:22:05.666 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25932 environment=dev
2025-12-21 00:22:05.669 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25932 environment=dev
2025-12-21 00:22:47.877 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-25932 environment=dev
2025-12-21 00:22:47.883 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-25932 environment=dev
2025-12-21 00:22:47.887 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25932 environment=dev
2025-12-21 00:22:47.887 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25932 environment=dev
2025-12-21 00:22:59.553 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-19948 environment=dev
2025-12-21 00:22:59.560 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-19948 environment=dev
2025-12-21 00:22:59.560 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:22:59.630 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19948 environment=dev
2025-12-21 00:22:59.636 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:23:01.275 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:23:01.309 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19948 environment=dev
2025-12-21 00:23:01.350 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:23:01.363 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:23:01.380 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19948 environment=dev
2025-12-21 00:23:01.385 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:23:01.389 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:23:01.411 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19948 environment=dev
2025-12-21 00:23:01.425 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:23:01.429 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:23:01.446 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19948 environment=dev
2025-12-21 00:23:01.450 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:23:01.525 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:23:01.542 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19948 environment=dev
2025-12-21 00:23:01.542 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19948 environment=dev
2025-12-21 00:23:01.560 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:23:07.174 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:23:07.193 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19948 environment=dev
2025-12-21 00:23:07.193 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19948 environment=dev
2025-12-21 00:23:07.226 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.226 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.226 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.226 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.226 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.226 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.226 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.245 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.260 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.278 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.292 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.292 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.308 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.308 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19948 environment=dev
2025-12-21 00:23:07.327 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19948 environment=dev
2025-12-21 00:23:07.347 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19948 environment=dev
2025-12-21 00:25:25.167 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-19948 environment=dev
2025-12-21 00:25:25.181 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-19948 environment=dev
2025-12-21 00:25:25.181 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-19948 environment=dev
2025-12-21 00:25:25.191 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-19948 environment=dev
2025-12-21 00:25:31.204 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21976 environment=dev
2025-12-21 00:25:31.204 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-21976 environment=dev
2025-12-21 00:25:31.204 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:31.237 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21976 environment=dev
2025-12-21 00:25:31.243 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:36.670 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:36.684 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21976 environment=dev
2025-12-21 00:25:36.693 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21976 environment=dev
2025-12-21 00:25:36.696 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:36.707 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:36.721 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21976 environment=dev
2025-12-21 00:25:36.724 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:43.399 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:43.407 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21976 environment=dev
2025-12-21 00:25:43.419 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:43.419 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:43.429 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21976 environment=dev
2025-12-21 00:25:43.443 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:43.475 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:43.490 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21976 environment=dev
2025-12-21 00:25:43.492 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21976 environment=dev
2025-12-21 00:25:43.492 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:47.945 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:25:47.980 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21976 environment=dev
2025-12-21 00:25:47.994 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21976 environment=dev
2025-12-21 00:25:48.029 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21976 environment=dev
2025-12-21 00:25:48.041 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21976 environment=dev
2025-12-21 00:30:51.820 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21976 environment=dev
2025-12-21 00:30:51.908 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-21976 environment=dev
2025-12-21 00:30:51.940 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21976 environment=dev
2025-12-21 00:30:51.940 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21976 environment=dev
2025-12-21 00:31:02.617 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21472 environment=dev
2025-12-21 00:31:02.628 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-21472 environment=dev
2025-12-21 00:31:02.629 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:02.680 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:02.685 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:05.049 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:05.049 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:05.065 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:05.065 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:05.081 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:05.088 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:05.088 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:07.855 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:07.871 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:07.871 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:07.887 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:07.894 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:07.910 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:07.913 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:09.901 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:09.923 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:09.923 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:09.934 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:09.941 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:09.941 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:09.992 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:10.005 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:10.005 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:10.005 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:11.534 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:11.551 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:11.551 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:11.551 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:11.573 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:11.590 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:11.593 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:15.970 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:31:15.987 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:15.987 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:16.004 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:16.054 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21472 environment=dev
2025-12-21 00:31:16.070 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21472 environment=dev
2025-12-21 00:35:54.038 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21472 environment=dev
2025-12-21 00:35:54.053 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-21472 environment=dev
2025-12-21 00:35:54.053 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21472 environment=dev
2025-12-21 00:35:54.068 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21472 environment=dev
2025-12-21 00:36:05.710 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26316 environment=dev
2025-12-21 00:36:05.732 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-26316 environment=dev
2025-12-21 00:36:05.736 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26316 environment=dev
2025-12-21 00:36:05.769 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26316 environment=dev
2025-12-21 00:36:05.785 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26316 environment=dev
2025-12-21 00:36:09.846 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26316 environment=dev
2025-12-21 00:36:09.846 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26316 environment=dev
2025-12-21 00:36:09.862 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26316 environment=dev
2025-12-21 00:36:09.862 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26316 environment=dev
2025-12-21 00:36:09.887 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26316 environment=dev
2025-12-21 00:36:09.889 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26316 environment=dev
2025-12-21 00:36:09.913 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26316 environment=dev
2025-12-21 00:36:09.918 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26316 environment=dev
2025-12-21 00:36:09.935 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26316 environment=dev
2025-12-21 00:36:09.940 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26316 environment=dev
2025-12-21 00:36:13.837 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26316 environment=dev
2025-12-21 00:41:33.752 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-6516 environment=dev
2025-12-21 00:41:33.758 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-6516 environment=dev
2025-12-21 00:41:33.758 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:33.801 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:35.404 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:35.418 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:40.653 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:40.689 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.689 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.703 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.708 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.711 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.718 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.723 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.727 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.732 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.735 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.739 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.750 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.755 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.767 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.771 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.784 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.789 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.789 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.804 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.805 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:40.821 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:40.839 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:40.848 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:40.856 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:40.856 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:40.865 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:40.872 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:40.875 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:43.604 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:43.617 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:43.617 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:45.366 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:45.397 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.399 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.399 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.399 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.419 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.419 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.419 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.432 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.432 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.449 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.449 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.465 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.470 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.482 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.482 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.498 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:45.514 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:45.515 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:45.534 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:45.534 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:45.534 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:45.534 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:45.557 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:45.562 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:45.565 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:45.567 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:45.567 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:45.583 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:45.583 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:45.599 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:45.600 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:49.606 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:41:49.618 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:49.637 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:49.668 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.668 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.668 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.682 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.682 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.682 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.682 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.700 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.700 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.719 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.719 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.732 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.747 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.749 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6516 environment=dev
2025-12-21 00:41:49.766 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6516 environment=dev
2025-12-21 00:41:49.782 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6516 environment=dev
2025-12-21 00:45:18.399 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-6516 environment=dev
2025-12-21 00:45:18.472 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-6516 environment=dev
2025-12-21 00:45:18.485 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-6516 environment=dev
2025-12-21 00:45:18.493 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-6516 environment=dev
2025-12-21 00:52:31.890 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-18532 environment=dev
2025-12-21 00:52:32.086 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.30s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-18532 environment=dev
2025-12-21 00:52:32.098 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:32.215 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18532 environment=dev
2025-12-21 00:52:32.224 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:35.482 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:35.510 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18532 environment=dev
2025-12-21 00:52:35.516 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:39.982 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:40.082 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18532 environment=dev
2025-12-21 00:52:40.123 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:40.149 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:40.178 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18532 environment=dev
2025-12-21 00:52:40.189 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:40.215 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:40.246 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18532 environment=dev
2025-12-21 00:52:40.265 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:45.143 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:45.228 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18532 environment=dev
2025-12-21 00:52:45.260 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:45.278 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:45.309 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18532 environment=dev
2025-12-21 00:52:45.329 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:45.362 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:52:45.399 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18532 environment=dev
2025-12-21 00:52:45.412 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18532 environment=dev
2025-12-21 00:54:32.066 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-18532 environment=dev
2025-12-21 00:54:32.083 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-18532 environment=dev
2025-12-21 00:54:32.117 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-18532 environment=dev
2025-12-21 00:54:32.123 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-18532 environment=dev
2025-12-21 00:57:25.097 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-4800 environment=dev
2025-12-21 00:57:25.117 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-4800 environment=dev
2025-12-21 00:57:25.120 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:25.180 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:28.120 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:28.132 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:33.833 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:33.888 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:33.897 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:33.905 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:33.913 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:33.922 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:33.931 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:33.940 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:33.949 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:33.958 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:33.969 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:33.999 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:34.030 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:34.063 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:34.113 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:34.164 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:34.202 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:34.242 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:34.291 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:34.344 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:34.378 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:34.465 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:34.524 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:34.548 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:34.587 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:34.594 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:34.611 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:34.640 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:34.652 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:37.061 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:37.079 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:37.084 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:38.667 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:38.692 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:38.708 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:38.733 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:38.753 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:38.767 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:38.784 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:38.798 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:38.811 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:38.844 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:38.882 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:38.914 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:38.950 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:38.984 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:39.030 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:39.067 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:39.101 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:39.165 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:39.197 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:39.218 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:39.247 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:39.253 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:39.265 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:39.291 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:39.310 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:39.317 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:39.336 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:39.341 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:39.365 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:39.409 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:39.428 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:39.440 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:43.531 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:57:43.540 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:43.559 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:43.608 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.624 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.625 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.641 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.659 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.659 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.675 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.692 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.709 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.726 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.752 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.776 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.795 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.820 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-4800 environment=dev
2025-12-21 00:57:43.876 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4800 environment=dev
2025-12-21 00:57:43.907 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4800 environment=dev
2025-12-21 00:59:26.191 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-4800 environment=dev
2025-12-21 00:59:26.317 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-4800 environment=dev
2025-12-21 00:59:26.391 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-4800 environment=dev
2025-12-21 00:59:26.391 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-4800 environment=dev
2025-12-21 01:04:03.483 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-15204 environment=dev
2025-12-21 01:04:03.613 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.21s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-15204 environment=dev
2025-12-21 01:04:03.635 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:04.099 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15204 environment=dev
2025-12-21 01:04:05.056 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:05.245 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:05.272 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15204 environment=dev
2025-12-21 01:04:05.281 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:07.635 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:07.651 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15204 environment=dev
2025-12-21 01:04:07.654 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:07.661 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:07.679 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15204 environment=dev
2025-12-21 01:04:07.705 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15204 environment=dev
2025-12-21 01:04:07.715 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:12.004 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:12.026 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15204 environment=dev
2025-12-21 01:04:12.049 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15204 environment=dev
2025-12-21 01:04:12.062 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:12.087 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:12.117 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15204 environment=dev
2025-12-21 01:04:12.122 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:13.793 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:13.805 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15204 environment=dev
2025-12-21 01:04:13.807 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:13.812 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:04:13.823 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15204 environment=dev
2025-12-21 01:04:13.834 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15204 environment=dev
2025-12-21 01:04:13.840 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15204 environment=dev
2025-12-21 01:05:47.674 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-15204 environment=dev
2025-12-21 01:05:47.935 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-15204 environment=dev
2025-12-21 01:05:48.188 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-15204 environment=dev
2025-12-21 01:05:48.227 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-15204 environment=dev
2025-12-21 01:06:10.876 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21664 environment=dev
2025-12-21 01:06:10.887 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-21664 environment=dev
2025-12-21 01:06:10.888 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21664 environment=dev
2025-12-21 01:06:10.932 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21664 environment=dev
2025-12-21 01:06:10.940 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21664 environment=dev
2025-12-21 01:06:13.808 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21664 environment=dev
2025-12-21 01:06:13.847 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21664 environment=dev
2025-12-21 01:06:13.878 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21664 environment=dev
2025-12-21 01:06:13.893 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21664 environment=dev
2025-12-21 01:06:13.901 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21664 environment=dev
2025-12-21 01:06:13.916 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21664 environment=dev
2025-12-21 01:06:13.925 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21664 environment=dev
2025-12-21 01:06:13.955 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21664 environment=dev
2025-12-21 01:06:13.971 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21664 environment=dev
2025-12-21 01:06:14.004 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21664 environment=dev
2025-12-21 01:06:14.004 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21664 environment=dev
2025-12-21 01:06:18.453 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21664 environment=dev
2025-12-21 01:06:18.468 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21664 environment=dev
2025-12-21 01:06:18.489 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21664 environment=dev
2025-12-21 01:06:18.494 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21664 environment=dev
2025-12-21 01:06:18.541 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-21664 environment=dev
2025-12-21 01:06:18.570 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-21664 environment=dev
2025-12-21 01:10:53.791 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-21664 environment=dev
2025-12-21 01:10:53.883 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-21664 environment=dev
2025-12-21 01:10:53.919 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21664 environment=dev
2025-12-21 01:10:53.919 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-21664 environment=dev
2025-12-21 01:11:01.614 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26100 environment=dev
2025-12-21 01:11:01.624 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-26100 environment=dev
2025-12-21 01:11:01.625 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26100 environment=dev
2025-12-21 01:11:01.675 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26100 environment=dev
2025-12-21 01:11:01.680 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26100 environment=dev
2025-12-21 01:11:03.895 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26100 environment=dev
2025-12-21 01:11:03.910 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26100 environment=dev
2025-12-21 01:11:03.910 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26100 environment=dev
2025-12-21 01:11:03.930 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26100 environment=dev
2025-12-21 01:11:03.930 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26100 environment=dev
2025-12-21 01:11:03.950 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26100 environment=dev
2025-12-21 01:11:03.955 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26100 environment=dev
2025-12-21 01:11:03.989 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26100 environment=dev
2025-12-21 01:11:04.002 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26100 environment=dev
2025-12-21 01:11:04.002 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26100 environment=dev
2025-12-21 01:11:08.135 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26100 environment=dev
2025-12-21 01:11:08.152 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26100 environment=dev
2025-12-21 01:17:10.153 [WARN] [WARN] SqlitePoolManager - _release_connection_to_pool -  Connection from ./data/agents.db pool was out for 366.16s. This may indicate inefficient usage. Stack trace at acquisition:
['  File "<string>", line 1, in <module>\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\spawn.py", line 116, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\spawn.py", line 129, in _main\n    return self._bootstrap(parent_sentinel)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\process.py", line 315, in _bootstrap\n    self.run()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\process.py", line 108, in run\n    self._target(*self._args, **self._kwargs)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\_subprocess.py", line 80, in subprocess_started\n    target(sockets=sockets)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\server.py", line 65, in run\n    return asyncio.run(self.serve(sockets=sockets))\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\runners.py", line 43, in run\n    return loop.run_until_complete(main)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 629, in run_until_complete\n    self.run_forever()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 596, in run_forever\n    self._run_once()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 1890, in _run_once\n    handle._run()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\events.py", line 80, in _run\n    self._context.run(self._callback, *self._args)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 244, in run_asgi\n    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)  # type: ignore[func-returns-value]\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\middleware\\proxy_headers.py", line 70, in __call__\n    return await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\fastapi\\applications.py", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\applications.py", line 123, in __call__\n    await self.middleware_stack(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\errors.py", line 151, in __call__\n    await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\cors.py", line 77, in __call__\n    await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\exceptions.py", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 776, in app\n    await route.handle(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 373, in handle\n    await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 96, in app\n    await wrap_app_handling_exceptions(app, session)(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 94, in app\n    await func(session)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\fastapi\\routing.py", line 348, in app\n    await dependant.call(**values)\n', '  File "C:\\... [truncated] | component=SqlitePoolManager subcomponent=_release_connection_to_pool service_name=service-26100 environment=dev
2025-12-21 01:17:10.188 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26100 environment=dev
2025-12-21 01:17:10.250 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-26100 environment=dev
2025-12-21 01:17:10.269 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-26100 environment=dev
2025-12-21 01:17:10.277 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26100 environment=dev
2025-12-21 01:17:10.280 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26100 environment=dev
2025-12-21 01:17:30.613 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14536 environment=dev
2025-12-21 01:17:30.630 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.03s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-14536 environment=dev
2025-12-21 01:17:30.647 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14536 environment=dev
2025-12-21 01:17:30.798 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14536 environment=dev
2025-12-21 01:17:30.815 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14536 environment=dev
2025-12-21 01:17:30.832 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14536 environment=dev
2025-12-21 01:17:30.927 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14536 environment=dev
2025-12-21 01:17:33.464 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14536 environment=dev
2025-12-21 01:19:51.611 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14536 environment=dev
2025-12-21 01:19:51.674 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-14536 environment=dev
2025-12-21 01:19:51.690 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14536 environment=dev
2025-12-21 01:19:51.699 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14536 environment=dev
2025-12-21 01:21:02.653 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-22424 environment=dev
2025-12-21 01:21:02.672 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-22424 environment=dev
2025-12-21 01:21:02.674 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22424 environment=dev
2025-12-21 01:21:02.734 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22424 environment=dev
2025-12-21 01:21:04.382 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22424 environment=dev
2025-12-21 01:21:04.382 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22424 environment=dev
2025-12-21 01:21:10.941 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22424 environment=dev
2025-12-21 01:25:23.960 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-22556 environment=dev
2025-12-21 01:25:23.977 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-22556 environment=dev
2025-12-21 01:25:23.979 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:24.760 [WARN] [WARN] retry - async_wrapper -  Max retries (3) exceeded for _execute_statement_async: no such table: threads | component=retry subcomponent=async_wrapper service_name=service-22556 environment=dev
2025-12-21 01:25:24.832 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:25.654 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:26.327 [WARN] [WARN] retry - async_wrapper -  Max retries (3) exceeded for _execute_statement_async: no such table: agents | component=retry subcomponent=async_wrapper service_name=service-22556 environment=dev
2025-12-21 01:25:26.327 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:30.461 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:30.491 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:30.491 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:30.511 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:30.511 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:30.511 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:30.526 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:30.526 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:30.533 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:30.543 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:30.543 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:30.609 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:25:30.626 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:30.638 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:30.649 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:25:30.654 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:30.661 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:30.664 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:25:30.664 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:33.725 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:33.727 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:25:33.743 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:35.666 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:35.708 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:35.709 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:35.709 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:35.709 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:35.728 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:35.731 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:35.736 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:35.740 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-22556 environment=dev
2025-12-21 01:25:35.780 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:25:35.787 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:35.796 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:35.804 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:25:35.806 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:35.809 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:35.809 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:25:36.432 [WARN] [WARN] retry - async_wrapper -  Max retries (3) exceeded for _execute_statement_async: no such table: messages | component=retry subcomponent=async_wrapper service_name=service-22556 environment=dev
2025-12-21 01:25:36.440 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:36.455 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:25:36.466 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:25:36.470 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:26:05.826 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:26:05.846 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:26:05.846 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:26:09.705 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:26:09.742 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at', 'version', 'history_timestamp', 'history_user_id', 'history_comment'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:26:09.759 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:26:09.775 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:26:09.787 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:26:09.790 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:26:09.794 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:26:09.804 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:26:10.512 [WARN] [WARN] retry - async_wrapper -  Max retries (3) exceeded for _execute_statement_async: no such table: messages | component=retry subcomponent=async_wrapper service_name=service-22556 environment=dev
2025-12-21 01:26:10.518 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:26:10.530 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:26:10.544 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'id', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22556 environment=dev
2025-12-21 01:26:10.548 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:26:11.592 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22556 environment=dev
2025-12-21 01:28:50.298 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-5048 environment=dev
2025-12-21 01:28:50.315 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-5048 environment=dev
2025-12-21 01:28:50.318 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:28:50.373 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:28:52.636 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:28:52.642 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:28:57.535 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:28:57.556 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.572 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.576 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.576 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.576 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.591 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.596 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.598 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.602 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.607 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.611 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.618 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.626 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.637 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.644 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.651 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.658 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.665 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.671 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.679 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:28:57.693 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:28:57.713 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:28:57.720 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:28:57.730 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:28:57.733 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:28:57.737 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:28:57.745 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:28:57.747 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:00.358 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:00.359 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:00.359 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:01.908 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:01.942 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:01.952 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:01.957 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:01.957 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:01.957 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:01.973 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:01.974 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:01.974 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:01.990 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:01.991 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:02.007 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:02.007 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:02.007 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:02.024 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:02.024 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:02.047 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:02.063 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:02.074 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:02.082 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:02.092 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:02.095 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:02.098 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:02.108 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:02.113 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:02.113 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:02.124 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:02.124 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:02.141 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:02.141 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:02.158 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:05.878 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.892 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.892 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.892 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.892 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.913 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.921 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.929 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.942 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.942 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.959 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.976 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.976 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:05.993 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:06.016 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:08.643 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:08.666 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:08.673 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:08.698 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:08.704 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:08.716 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:08.728 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-5048 environment=dev
2025-12-21 01:29:08.745 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:17.492 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:18.758 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-5048 environment=dev
2025-12-21 01:29:18.758 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 10, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:29:18.774 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:29:18.774 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:33:25.997 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 11, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:33:26.511 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:33:26.649 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:33:29.293 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 12, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:33:29.338 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:33:29.407 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:33:30.298 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 13, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:33:30.322 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:33:31.426 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 14, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:33:31.441 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:33:31.457 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:33:33.388 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 15, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:33:33.405 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:33:33.439 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:33:33.474 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:33:33.506 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:33:41.253 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 16, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:33:41.272 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 17, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:11.870 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 17, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:11.940 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 18, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:12.022 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 18, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:12.022 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 19, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:48.923 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 19, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:48.939 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:34:48.939 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 20, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:53.243 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 22, "total_released": 20, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:53.254 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:34:53.257 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 22, "total_released": 21, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:55.485 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 23, "total_released": 21, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:55.589 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:34:55.622 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 23, "total_released": 22, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:55.640 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 24, "total_released": 22, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:55.655 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:34:55.674 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 24, "total_released": 23, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:55.686 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 25, "total_released": 23, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:55.718 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:34:55.744 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 25, "total_released": 24, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:55.756 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 26, "total_released": 24, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:55.773 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:34:55.780 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 26, "total_released": 25, "current_active": 1, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:55.905 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 27, "total_released": 25, "current_active": 2, "peak_active": 2, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:34:55.937 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:34:55.954 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:00.822 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:02.889 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:02.908 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:02.908 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:02.956 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:13.008 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-5048 environment=dev
2025-12-21 01:35:13.011 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 28, "total_released": 25, "current_active": 3, "peak_active": 3, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:13.021 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:13.027 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 3, "shutting_down": false, "metrics": {"total_acquired": 28, "total_released": 26, "current_active": 2, "peak_active": 3, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:13.390 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 29, "total_released": 26, "current_active": 3, "peak_active": 3, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:13.421 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:13.440 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 3, "shutting_down": false, "metrics": {"total_acquired": 29, "total_released": 27, "current_active": 2, "peak_active": 3, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:13.449 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 30, "total_released": 27, "current_active": 3, "peak_active": 3, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:13.458 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:13.458 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 3, "shutting_down": false, "metrics": {"total_acquired": 30, "total_released": 28, "current_active": 2, "peak_active": 3, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:13.458 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 31, "total_released": 28, "current_active": 3, "peak_active": 3, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:13.478 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:13.484 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 3, "shutting_down": false, "metrics": {"total_acquired": 31, "total_released": 29, "current_active": 2, "peak_active": 3, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:13.487 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 32, "total_released": 29, "current_active": 3, "peak_active": 3, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:13.494 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 3, "shutting_down": false, "metrics": {"total_acquired": 32, "total_released": 30, "current_active": 2, "peak_active": 3, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:13.494 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 33, "total_released": 30, "current_active": 3, "peak_active": 3, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:13.508 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:13.512 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 3, "shutting_down": false, "metrics": {"total_acquired": 33, "total_released": 31, "current_active": 2, "peak_active": 3, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:13.518 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:13.522 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:13.652 [WARN] [WARN] SqlitePoolManager - _get_connection_from_pool -  Timeout acquiring connection from ./data/agents.db pool after 10.00s | component=SqlitePoolManager subcomponent=_get_connection_from_pool service_name=service-5048 environment=dev
2025-12-21 01:35:13.654 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 33, "total_released": 31, "current_active": 2, "peak_active": 3, "errors": 0, "timeouts": 1, "last_timeout": 1766277313.6542313, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:17.768 [WARN] [WARN] SqlitePoolManager - _get_connection_from_pool -  Timeout acquiring connection from ./data/agents.db pool after 9.99s | component=SqlitePoolManager subcomponent=_get_connection_from_pool service_name=service-5048 environment=dev
2025-12-21 01:35:17.768 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 33, "total_released": 31, "current_active": 2, "peak_active": 3, "errors": 0, "timeouts": 2, "last_timeout": 1766277317.7684045, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:23.237 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:24.321 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:24.348 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:24.353 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:24.389 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:24.422 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 34, "total_released": 31, "current_active": 3, "peak_active": 3, "errors": 0, "timeouts": 2, "last_timeout": 1766277317.7684045, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:24.437 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:24.441 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 3, "shutting_down": false, "metrics": {"total_acquired": 34, "total_released": 32, "current_active": 2, "peak_active": 3, "errors": 0, "timeouts": 2, "last_timeout": 1766277317.7684045, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:52.736 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:56.803 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:56.817 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:56.823 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:56.845 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:56.856 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 35, "total_released": 32, "current_active": 3, "peak_active": 3, "errors": 0, "timeouts": 2, "last_timeout": 1766277317.7684045, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:35:56.872 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:35:56.874 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 3, "shutting_down": false, "metrics": {"total_acquired": 35, "total_released": 33, "current_active": 2, "peak_active": 3, "errors": 0, "timeouts": 2, "last_timeout": 1766277317.7684045, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:36:11.238 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:36:17.425 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:36:17.438 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:36:17.444 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:36:17.470 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:36:17.487 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 2, "shutting_down": false, "metrics": {"total_acquired": 36, "total_released": 33, "current_active": 3, "peak_active": 3, "errors": 0, "timeouts": 2, "last_timeout": 1766277317.7684045, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:36:17.507 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-5048 environment=dev
2025-12-21 01:36:17.510 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 3, "shutting_down": false, "metrics": {"total_acquired": 36, "total_released": 34, "current_active": 2, "peak_active": 3, "errors": 0, "timeouts": 2, "last_timeout": 1766277317.7684045, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-5048 environment=dev
2025-12-21 01:37:50.203 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-5048 environment=dev
2025-12-21 01:37:50.237 [INFO] [INFO] pool_manager - _release_pending_connections -  Cleaning up 2 active connections for pool 8b88d2db2dfd3952 | component=pool_manager subcomponent=_release_pending_connections service_name=service-5048 environment=dev
2025-12-21 01:37:50.255 [WARN] [WARN] pool_manager - _cleanup_connection -  Error committing transaction during cleanup: no active connection | component=pool_manager subcomponent=_cleanup_connection service_name=service-5048 environment=dev
2025-12-21 01:37:50.256 [WARN] [WARN] pool_manager - _cleanup_connection -  Error releasing connection during cleanup: Released connection is not the same as the managed connection | component=pool_manager subcomponent=_cleanup_connection service_name=service-5048 environment=dev
2025-12-21 01:37:50.256 [WARN] [WARN] pool_manager - _cleanup_connection -  Error committing transaction during cleanup: no active connection | component=pool_manager subcomponent=_cleanup_connection service_name=service-5048 environment=dev
2025-12-21 01:37:50.269 [WARN] [WARN] pool_manager - _cleanup_connection -  Error releasing connection during cleanup: Released connection is not the same as the managed connection | component=pool_manager subcomponent=_cleanup_connection service_name=service-5048 environment=dev
2025-12-21 01:37:50.290 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-5048 environment=dev
2025-12-21 01:37:50.306 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-5048 environment=dev
2025-12-21 01:37:50.306 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-5048 environment=dev
2025-12-21 01:37:57.272 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-16260 environment=dev
2025-12-21 01:37:57.291 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-16260 environment=dev
2025-12-21 01:37:57.291 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16260 environment=dev
2025-12-21 01:37:57.360 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16260 environment=dev
2025-12-21 01:37:57.363 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16260 environment=dev
2025-12-21 01:38:02.153 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16260 environment=dev
2025-12-21 01:38:02.171 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16260 environment=dev
2025-12-21 01:38:02.171 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16260 environment=dev
2025-12-21 01:38:02.192 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16260 environment=dev
2025-12-21 01:38:02.200 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16260 environment=dev
2025-12-21 01:38:07.751 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16260 environment=dev
2025-12-21 01:38:07.752 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16260 environment=dev
2025-12-21 01:38:19.567 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16260 environment=dev
2025-12-21 07:28:32.225 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-17028 environment=dev
2025-12-21 07:28:32.261 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.05s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-17028 environment=dev
2025-12-21 07:28:32.261 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17028 environment=dev
2025-12-21 07:28:32.357 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17028 environment=dev
2025-12-21 07:28:32.376 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17028 environment=dev
2025-12-21 07:28:35.025 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17028 environment=dev
2025-12-21 07:28:35.025 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17028 environment=dev
2025-12-21 07:28:40.442 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17028 environment=dev
2025-12-21 07:28:40.467 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17028 environment=dev
2025-12-21 07:28:40.484 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17028 environment=dev
2025-12-21 07:28:40.494 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17028 environment=dev
2025-12-21 07:30:00.140 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-17028 environment=dev
2025-12-21 07:30:00.179 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-17028 environment=dev
2025-12-21 07:30:00.191 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-17028 environment=dev
2025-12-21 07:30:00.191 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-17028 environment=dev
2025-12-21 07:30:09.702 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12572 environment=dev
2025-12-21 07:30:09.718 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-12572 environment=dev
2025-12-21 07:30:09.726 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12572 environment=dev
2025-12-21 07:30:11.363 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field entity_id in documents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.363 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field filename in documents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.363 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content_type in documents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.374 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field size_bytes in documents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.374 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field chunk_count in documents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.374 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in documents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.383 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tags in documents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.383 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in documents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.392 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column entity_id to table documents | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.398 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column entity_id to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.407 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column filename to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.417 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content_type to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.424 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column size_bytes to table documents | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.425 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column size_bytes to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.435 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column chunk_count to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.443 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to table documents | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.450 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.456 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tags to table documents | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.457 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tags to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.469 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12572 environment=dev
2025-12-21 07:30:11.482 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'entity_id', 'filename', 'content_type', 'size_bytes', 'chunk_count', 'title', 'tags', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12572 environment=dev
2025-12-21 07:30:11.494 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12572 environment=dev
2025-12-21 07:30:11.515 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12572 environment=dev
2025-12-21 07:30:11.527 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12572 environment=dev
2025-12-21 07:30:11.590 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12572 environment=dev
2025-12-21 07:31:13.245 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12572 environment=dev
2025-12-21 07:31:13.330 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-12572 environment=dev
2025-12-21 07:31:13.374 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12572 environment=dev
2025-12-21 07:31:13.377 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12572 environment=dev
2025-12-21 07:31:23.143 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-18320 environment=dev
2025-12-21 07:31:23.152 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-18320 environment=dev
2025-12-21 07:31:23.160 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:31:23.207 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18320 environment=dev
2025-12-21 07:31:23.207 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:31:24.973 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:31:24.989 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18320 environment=dev
2025-12-21 07:31:24.991 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:31:45.669 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:31:46.171 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:31:46.215 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:31:46.226 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18320 environment=dev
2025-12-21 07:31:46.232 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:32:20.644 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:32:20.657 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18320 environment=dev
2025-12-21 07:32:20.659 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:32:22.496 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:32:22.507 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18320 environment=dev
2025-12-21 07:32:22.507 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:32:35.767 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18320 environment=dev
2025-12-21 07:59:49.768 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12268 environment=dev
2025-12-21 07:59:49.868 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.17s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-12268 environment=dev
2025-12-21 07:59:49.874 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12268 environment=dev
2025-12-21 07:59:50.772 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12268 environment=dev
2025-12-21 07:59:56.207 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12268 environment=dev
2025-12-21 07:59:56.234 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12268 environment=dev
2025-12-21 07:59:56.257 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12268 environment=dev
2025-12-21 07:59:56.266 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12268 environment=dev
2025-12-21 08:01:20.893 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12268 environment=dev
2025-12-21 08:01:20.974 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-12268 environment=dev
2025-12-21 08:01:21.007 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12268 environment=dev
2025-12-21 08:01:21.009 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12268 environment=dev
2025-12-21 08:01:40.970 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25344 environment=dev
2025-12-21 08:01:40.970 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-25344 environment=dev
2025-12-21 08:01:40.987 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25344 environment=dev
2025-12-21 08:01:41.038 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25344 environment=dev
2025-12-21 08:01:41.054 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25344 environment=dev
2025-12-21 08:01:41.062 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25344 environment=dev
2025-12-21 08:09:09.887 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-25344 environment=dev
2025-12-21 08:09:09.934 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-25344 environment=dev
2025-12-21 08:09:09.949 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25344 environment=dev
2025-12-21 08:09:09.961 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25344 environment=dev
2025-12-21 08:10:10.904 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28012 environment=dev
2025-12-21 08:10:10.909 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-28012 environment=dev
2025-12-21 08:10:10.910 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28012 environment=dev
2025-12-21 08:10:10.961 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28012 environment=dev
2025-12-21 08:10:14.862 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28012 environment=dev
2025-12-21 08:10:14.871 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28012 environment=dev
2025-12-21 08:10:31.654 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28012 environment=dev
2025-12-21 08:10:32.196 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28012 environment=dev
2025-12-21 08:10:32.203 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28012 environment=dev
2025-12-21 08:10:32.213 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28012 environment=dev
2025-12-21 08:11:38.422 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28012 environment=dev
2025-12-21 08:20:35.697 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-9376 environment=dev
2025-12-21 08:20:35.719 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-9376 environment=dev
2025-12-21 08:20:35.719 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9376 environment=dev
2025-12-21 08:20:35.782 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9376 environment=dev
2025-12-21 08:20:36.747 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9376 environment=dev
2025-12-21 08:20:36.760 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9376 environment=dev
2025-12-21 08:20:53.044 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9376 environment=dev
2025-12-21 08:23:20.471 [WARN] [WARN] SqlitePoolManager - _release_connection_to_pool -  Connection from ./data/agents.db pool was out for 147.40s. This may indicate inefficient usage. Stack trace at acquisition:
['  File "<string>", line 1, in <module>\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\spawn.py", line 116, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\spawn.py", line 129, in _main\n    return self._bootstrap(parent_sentinel)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\process.py", line 315, in _bootstrap\n    self.run()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\process.py", line 108, in run\n    self._target(*self._args, **self._kwargs)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\_subprocess.py", line 80, in subprocess_started\n    target(sockets=sockets)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\server.py", line 65, in run\n    return asyncio.run(self.serve(sockets=sockets))\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\runners.py", line 43, in run\n    return loop.run_until_complete(main)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 629, in run_until_complete\n    self.run_forever()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 596, in run_forever\n    self._run_once()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 1890, in _run_once\n    handle._run()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\events.py", line 80, in _run\n    self._context.run(self._callback, *self._args)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\protocols\\http\\httptools_impl.py", line 399, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\middleware\\proxy_headers.py", line 70, in __call__\n    return await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\fastapi\\applications.py", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\applications.py", line 123, in __call__\n    await self.middleware_stack(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\cors.py", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\cors.py", line 148, in simple_response\n    await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\exceptions.py", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 776, in app\n    await route.handle(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 72, in app\n    response = await func(reques... [truncated] | component=SqlitePoolManager subcomponent=_release_connection_to_pool service_name=service-9376 environment=dev
2025-12-21 08:23:20.487 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9376 environment=dev
2025-12-21 08:23:21.102 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9376 environment=dev
2025-12-21 08:23:21.147 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9376 environment=dev
2025-12-21 08:25:07.033 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-9376 environment=dev
2025-12-21 08:25:07.127 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-9376 environment=dev
2025-12-21 08:25:07.184 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-9376 environment=dev
2025-12-21 08:25:07.185 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-9376 environment=dev
2025-12-21 08:25:30.233 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28096 environment=dev
2025-12-21 08:25:30.244 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-28096 environment=dev
2025-12-21 08:25:30.246 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28096 environment=dev
2025-12-21 08:26:13.843 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field entity_id in documents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.859 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field filename in documents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.868 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content_type in documents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.868 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field size_bytes in documents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.876 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field chunk_count in documents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.876 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in documents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.886 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tags in documents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.888 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in documents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.893 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column entity_id to table documents | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.901 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column entity_id to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.910 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column filename to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.918 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content_type to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.922 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column size_bytes to table documents | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.926 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column size_bytes to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.934 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column chunk_count to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.942 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to table documents | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.942 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.951 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tags to table documents | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.958 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tags to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.968 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28096 environment=dev
2025-12-21 08:26:13.984 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'entity_id', 'filename', 'content_type', 'size_bytes', 'chunk_count', 'title', 'tags', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28096 environment=dev
2025-12-21 08:26:14.000 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28096 environment=dev
2025-12-21 08:26:14.012 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28096 environment=dev
2025-12-21 08:26:14.033 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28096 environment=dev
2025-12-21 08:26:14.038 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28096 environment=dev
2025-12-21 08:27:56.785 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28096 environment=dev
2025-12-21 08:28:02.443 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'entity_id', 'filename', 'content_type', 'size_bytes', 'chunk_count', 'title', 'tags', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28096 environment=dev
2025-12-21 08:28:02.476 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28096 environment=dev
2025-12-21 08:28:02.517 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28096 environment=dev
2025-12-21 08:28:02.534 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28096 environment=dev
2025-12-21 08:28:02.553 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28096 environment=dev
2025-12-21 08:31:52.454 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-28096 environment=dev
2025-12-21 08:31:52.526 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-28096 environment=dev
2025-12-21 08:31:52.582 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28096 environment=dev
2025-12-21 08:31:52.586 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28096 environment=dev
2025-12-21 08:45:55.650 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-18388 environment=dev
2025-12-21 08:45:55.683 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.06s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-18388 environment=dev
2025-12-21 08:45:55.686 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18388 environment=dev
2025-12-21 08:45:55.792 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18388 environment=dev
2025-12-21 08:45:55.825 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18388 environment=dev
2025-12-21 08:45:55.850 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18388 environment=dev
2025-12-21 08:45:55.863 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18388 environment=dev
2025-12-21 08:46:06.456 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-18388 environment=dev
2025-12-21 08:46:06.464 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-18388 environment=dev
2025-12-21 08:46:06.472 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-18388 environment=dev
2025-12-21 08:46:06.472 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-18388 environment=dev
2025-12-21 08:46:24.883 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-20072 environment=dev
2025-12-21 08:46:24.889 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-20072 environment=dev
2025-12-21 08:46:24.891 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20072 environment=dev
2025-12-21 08:46:24.934 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20072 environment=dev
2025-12-21 08:46:24.953 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20072 environment=dev
2025-12-21 08:46:24.972 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20072 environment=dev
2025-12-21 08:46:24.976 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20072 environment=dev
2025-12-21 08:46:35.711 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-20072 environment=dev
2025-12-21 08:46:35.711 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-20072 environment=dev
2025-12-21 08:46:35.711 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-20072 environment=dev
2025-12-21 08:46:35.722 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-20072 environment=dev
2025-12-21 08:46:46.917 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25560 environment=dev
2025-12-21 08:46:46.917 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-25560 environment=dev
2025-12-21 08:46:46.923 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25560 environment=dev
2025-12-21 08:46:47.528 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'entity_id', 'filename', 'content_type', 'size_bytes', 'chunk_count', 'title', 'tags', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25560 environment=dev
2025-12-21 08:46:47.541 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25560 environment=dev
2025-12-21 08:46:47.597 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25560 environment=dev
2025-12-21 08:46:47.614 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25560 environment=dev
2025-12-21 08:46:47.617 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25560 environment=dev
2025-12-21 08:50:09.491 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-25560 environment=dev
2025-12-21 08:50:09.630 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-25560 environment=dev
2025-12-21 08:50:09.681 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25560 environment=dev
2025-12-21 08:50:09.689 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25560 environment=dev
2025-12-21 08:52:03.150 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-9432 environment=dev
2025-12-21 08:52:03.174 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.03s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-9432 environment=dev
2025-12-21 08:52:03.177 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9432 environment=dev
2025-12-21 08:52:03.760 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'entity_id', 'filename', 'content_type', 'size_bytes', 'chunk_count', 'title', 'tags', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9432 environment=dev
2025-12-21 08:52:03.777 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9432 environment=dev
2025-12-21 08:52:03.786 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9432 environment=dev
2025-12-21 08:52:03.798 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9432 environment=dev
2025-12-21 08:52:03.801 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9432 environment=dev
2025-12-21 09:13:27.642 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9432 environment=dev
2025-12-21 13:48:06.457 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28900 environment=dev
2025-12-21 13:48:06.477 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-28900 environment=dev
2025-12-21 13:48:06.479 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:48:06.547 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:48:06.568 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:48:06.576 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:48:06.586 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:48:06.596 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28900 environment=dev
2025-12-21 13:48:06.605 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:48:06.629 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:48:06.645 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28900 environment=dev
2025-12-21 13:48:06.646 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:48:23.013 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:48:23.029 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28900 environment=dev
2025-12-21 13:48:23.031 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:04.799 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:04.816 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:04.824 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:04.833 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:04.839 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:04.850 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:04.869 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:04.891 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:20.064 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:20.075 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:53.873 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:53.902 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.909 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.910 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.918 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.920 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.923 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.928 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.930 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.936 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.940 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.944 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.958 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.962 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.978 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.986 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:53.996 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:54.006 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:54.016 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:54.026 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:54.030 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:49:54.054 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28900 environment=dev
2025-12-21 13:49:54.070 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:54.078 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:49:54.080 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28900 environment=dev
2025-12-21 13:49:54.092 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:50:04.269 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:50:04.297 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.299 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.303 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.305 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.309 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.313 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.317 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.320 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.325 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.333 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.346 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.357 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.361 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.373 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.378 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.392 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28900 environment=dev
2025-12-21 13:50:04.405 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28900 environment=dev
2025-12-21 13:50:04.422 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:50:04.431 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:50:04.436 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28900 environment=dev
2025-12-21 13:50:04.443 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:50:21.866 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:50:21.878 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28900 environment=dev
2025-12-21 13:50:21.878 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:50:21.887 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:50:21.898 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28900 environment=dev
2025-12-21 13:50:21.914 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:50:21.928 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:50:22.096 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28900 environment=dev
2025-12-21 13:50:22.096 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28900 environment=dev
2025-12-21 13:50:35.485 [WARN] [WARN] SqlitePoolManager - _get_connection_from_pool -  Timeout acquiring connection from ./data/agents.db pool after 10.00s | component=SqlitePoolManager subcomponent=_get_connection_from_pool service_name=service-28900 environment=dev
2025-12-21 13:50:35.487 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 1, "last_timeout": 1766321435.4877214, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:58:06.539 [WARN] [WARN] SqlitePoolManager - check_for_leaked_connections -  Connection leak detected in ./data/agents.db pool! Connection has been active for 464.58s. Stack trace at acquisition:
['  File "<string>", line 1, in <module>\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\spawn.py", line 116, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\spawn.py", line 129, in _main\n    return self._bootstrap(parent_sentinel)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\process.py", line 315, in _bootstrap\n    self.run()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\process.py", line 108, in run\n    self._target(*self._args, **self._kwargs)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\_subprocess.py", line 80, in subprocess_started\n    target(sockets=sockets)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\server.py", line 65, in run\n    return asyncio.run(self.serve(sockets=sockets))\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\runners.py", line 43, in run\n    return loop.run_until_complete(main)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 629, in run_until_complete\n    self.run_forever()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 596, in run_forever\n    self._run_once()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 1890, in _run_once\n    handle._run()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\events.py", line 80, in _run\n    self._context.run(self._callback, *self._args)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 244, in run_asgi\n    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)  # type: ignore[func-returns-value]\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\middleware\\proxy_headers.py", line 70, in __call__\n    return await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\fastapi\\applications.py", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\applications.py", line 123, in __call__\n    await self.middleware_stack(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\errors.py", line 151, in __call__\n    await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\cors.py", line 77, in __call__\n    await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\exceptions.py", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 776, in app\n    await route.handle(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 373, in handle\n    await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 96, in app\n    await wrap_app_handling_exceptions(app, session)(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 94, in app\n    await func(session)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\fastapi\\routing.py", line 348, in app\n    await dependant.call(**values)\n', '  File "C:\\Users... [truncated] | component=SqlitePoolManager subcomponent=check_for_leaked_connections service_name=service-28900 environment=dev
2025-12-21 13:58:06.593 [WARN] [WARN] SqlitePoolManager - _leak_detection_task -  Attempting to recover leaked connection that has leaked for 464.58s) | pool_name=./data/agents.db duration_seconds=464.58378171920776 connection_id=e6ef3ae9-329c-4bf8-a096-ac19b94636dd component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28900 environment=dev
2025-12-21 13:58:06.597 [WARN] [WARN] SqlitePoolManager - _release_connection_to_pool -  Connection from ./data/agents.db pool was out for 464.66s. This may indicate inefficient usage. Stack trace at acquisition:
['  File "<string>", line 1, in <module>\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\spawn.py", line 116, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\spawn.py", line 129, in _main\n    return self._bootstrap(parent_sentinel)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\process.py", line 315, in _bootstrap\n    self.run()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\process.py", line 108, in run\n    self._target(*self._args, **self._kwargs)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\_subprocess.py", line 80, in subprocess_started\n    target(sockets=sockets)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\server.py", line 65, in run\n    return asyncio.run(self.serve(sockets=sockets))\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\runners.py", line 43, in run\n    return loop.run_until_complete(main)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 629, in run_until_complete\n    self.run_forever()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 596, in run_forever\n    self._run_once()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 1890, in _run_once\n    handle._run()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\events.py", line 80, in _run\n    self._context.run(self._callback, *self._args)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 244, in run_asgi\n    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)  # type: ignore[func-returns-value]\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\middleware\\proxy_headers.py", line 70, in __call__\n    return await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\fastapi\\applications.py", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\applications.py", line 123, in __call__\n    await self.middleware_stack(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\errors.py", line 151, in __call__\n    await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\cors.py", line 77, in __call__\n    await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\exceptions.py", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 776, in app\n    await route.handle(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 373, in handle\n    await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 96, in app\n    await wrap_app_handling_exceptions(app, session)(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 94, in app\n    await func(session)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\fastapi\\routing.py", line 348, in app\n    await dependant.call(**values)\n', '  File "C:\\... [truncated] | component=SqlitePoolManager subcomponent=_release_connection_to_pool service_name=service-28900 environment=dev
2025-12-21 13:58:06.605 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 1, "last_timeout": 1766321435.4877214, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:58:06.607 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Successfully recovered leaked connection | pool_name=./data/agents.db connection_id=e6ef3ae9-329c-4bf8-a096-ac19b94636dd component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28900 environment=dev
2025-12-21 13:58:06.715 [ERROR] [ERROR] SqlitePoolManager - _release_connection_to_pool -  Connection release failed for ./data/agents.db pool: Lock is not acquired., pool info: {'active_connections': 0, 'pool_exists': True} | component=SqlitePoolManager subcomponent=_release_connection_to_pool service_name=service-28900 environment=dev
2025-12-21 13:58:06.717 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 1, "timeouts": 1, "last_timeout": 1766321435.4877214, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28900 environment=dev
2025-12-21 13:58:06.728 [ERROR] [ERROR] SqliteDatabase - release_async_connection -  ./data/agents.db failed to release async connection: An error happened in Lock.release: Lock is not acquired.
Call chain: PoolManager._release_connection_to_pool
Official message: Internal Error
Location: Lock.release in c:\users\vergn\appdata\local\programs\python\python39\lib\asyncio\locks.py line 146 | component=SqliteDatabase subcomponent=release_async_connection service_name=service-28900 environment=dev
2025-12-21 13:58:06.878 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-28900 environment=dev
2025-12-21 13:58:06.880 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-28900 environment=dev
2025-12-21 13:58:06.884 [WARN] [WARN] SqlitePoolManager - _initialize_pool_if_needed -  Error closing unusable pool: 'NoneType' object has no attribute 'close' | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-28900 environment=dev
2025-12-21 13:58:06.900 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28900 environment=dev
2025-12-21 13:58:06.906 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28900 environment=dev
2025-12-21 14:02:14.688 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28576 environment=dev
2025-12-21 14:02:14.784 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.15s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-28576 environment=dev
2025-12-21 14:02:14.788 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28576 environment=dev
2025-12-21 14:02:15.055 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28576 environment=dev
2025-12-21 14:02:15.071 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28576 environment=dev
2025-12-21 14:02:15.115 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.118 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.127 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.131 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.132 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.139 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.141 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.149 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.156 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.166 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.171 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.180 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.193 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.197 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28576 environment=dev
2025-12-21 14:02:15.215 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28576 environment=dev
2025-12-21 14:02:18.381 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28576 environment=dev
2025-12-21 14:06:49.145 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-28576 environment=dev
2025-12-21 14:06:49.232 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-28576 environment=dev
2025-12-21 14:06:49.265 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28576 environment=dev
2025-12-21 14:06:49.273 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28576 environment=dev
2025-12-21 14:07:02.351 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-30444 environment=dev
2025-12-21 14:07:02.384 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.04s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-30444 environment=dev
2025-12-21 14:07:02.386 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:02.571 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:02.578 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:02.584 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:02.684 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:05.860 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:05.866 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:05.877 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:05.899 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:06.057 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:06.069 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:06.073 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:06.081 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:06.091 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:06.121 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:06.129 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:06.144 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:06.190 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:06.198 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:14.510 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:14.526 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:14.535 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:14.543 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:14.559 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:14.588 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:14.592 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:14.608 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:14.620 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:14.629 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30444 environment=dev
2025-12-21 14:07:14.632 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:07:19.562 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30444 environment=dev
2025-12-21 14:08:28.128 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-11216 environment=dev
2025-12-21 14:08:28.161 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.04s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-11216 environment=dev
2025-12-21 14:08:28.164 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:28.273 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:28.321 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:28.332 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:28.356 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:28.383 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:28.453 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:28.489 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:37.142 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:37.174 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.182 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.185 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.185 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.190 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.195 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.199 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.204 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.206 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.206 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.218 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.230 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.240 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.246 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.252 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.262 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.273 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.278 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.286 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.297 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:37.318 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11216 environment=dev
2025-12-21 14:08:37.336 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:37.346 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:37.355 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11216 environment=dev
2025-12-21 14:08:37.359 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:41.827 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:41.850 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.853 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.858 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.858 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.867 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.868 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.872 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.877 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.885 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.895 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.901 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.915 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.918 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.931 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.937 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.951 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:41.968 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11216 environment=dev
2025-12-21 14:08:41.985 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:41.994 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:42.003 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11216 environment=dev
2025-12-21 14:08:42.003 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:42.767 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:42.782 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11216 environment=dev
2025-12-21 14:08:42.785 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:42.798 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:42.808 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11216 environment=dev
2025-12-21 14:08:42.825 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:42.828 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:42.835 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11216 environment=dev
2025-12-21 14:08:42.842 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11216 environment=dev
2025-12-21 14:08:42.842 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:46.903 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:08:46.913 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11216 environment=dev
2025-12-21 14:08:46.919 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11216 environment=dev
2025-12-21 14:08:46.958 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:46.962 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:46.964 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:46.964 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:46.973 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:46.973 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:46.981 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:46.989 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:46.998 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:47.006 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:47.014 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:47.024 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:47.031 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:47.039 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-11216 environment=dev
2025-12-21 14:08:47.052 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-11216 environment=dev
2025-12-21 14:08:49.685 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-11216 environment=dev
2025-12-21 14:15:36.749 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-11216 environment=dev
2025-12-21 14:15:36.817 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-11216 environment=dev
2025-12-21 14:15:36.838 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-11216 environment=dev
2025-12-21 14:15:36.839 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-11216 environment=dev
2025-12-21 14:15:48.043 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-4928 environment=dev
2025-12-21 14:15:48.052 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-4928 environment=dev
2025-12-21 14:15:48.052 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:48.100 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:48.106 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:48.131 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:48.139 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:48.141 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:48.147 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:48.155 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:48.171 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:48.188 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:48.188 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:48.200 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:48.204 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:54.997 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:55.008 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:55.016 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:55.017 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:55.039 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:55.057 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:55.058 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:55.061 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:55.074 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:55.078 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:55.083 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:59.253 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:15:59.261 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:59.283 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:59.295 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:15:59.331 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-4928 environment=dev
2025-12-21 14:16:01.587 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4928 environment=dev
2025-12-21 14:24:31.491 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-4928 environment=dev
2025-12-21 14:24:31.540 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-4928 environment=dev
2025-12-21 14:24:31.554 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-4928 environment=dev
2025-12-21 14:24:31.556 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-4928 environment=dev
2025-12-21 14:24:44.126 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-2104 environment=dev
2025-12-21 14:24:44.134 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-2104 environment=dev
2025-12-21 14:24:44.141 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:24:44.184 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:24:44.188 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:24:44.204 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:24:44.212 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:24:44.214 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:24:44.225 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:24:44.234 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:24:44.286 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:24:44.295 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:24:44.296 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:24:44.308 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:24:44.312 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:25:39.935 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:25:39.946 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:39.946 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:25:39.962 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:25:39.978 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:39.984 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:39.988 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:25:40.002 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:25:40.040 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:40.044 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:40.055 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:40.055 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:25:45.328 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:25:45.341 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:45.348 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:45.357 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:45.394 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:47.437 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:47.460 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:47.464 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:47.484 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-2104 environment=dev
2025-12-21 14:25:47.489 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-2104 environment=dev
2025-12-21 14:25:47.497 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-2104 environment=dev
2025-12-21 14:25:47.509 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-2104 environment=dev
2025-12-21 14:25:47.523 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:25:47.538 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:26:22.297 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:26:22.306 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:26:22.319 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:26:22.331 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:26:22.367 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:26:23.645 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:26:23.661 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:26:23.670 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:26:23.703 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-2104 environment=dev
2025-12-21 14:26:23.719 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-2104 environment=dev
2025-12-21 14:32:53.470 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-2104 environment=dev
2025-12-21 14:32:53.622 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-2104 environment=dev
2025-12-21 14:32:53.719 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-2104 environment=dev
2025-12-21 14:32:53.722 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-2104 environment=dev
2025-12-21 14:33:10.712 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26200 environment=dev
2025-12-21 14:33:10.726 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-26200 environment=dev
2025-12-21 14:33:10.735 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:10.799 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:10.807 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:10.830 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:10.846 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:10.854 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:10.870 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:10.885 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:10.917 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:10.939 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:10.959 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:10.996 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:11.003 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:12.781 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:12.794 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:12.797 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:12.807 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:12.816 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:12.834 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:12.838 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:12.843 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:12.859 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:12.865 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:12.871 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:12.875 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:25.692 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:33:25.705 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:25.712 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:25.742 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:25.775 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:29.461 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:29.482 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:29.492 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:29.525 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26200 environment=dev
2025-12-21 14:33:29.536 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26200 environment=dev
2025-12-21 14:38:30.660 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-26200 environment=dev
2025-12-21 14:38:31.611 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-26200 environment=dev
2025-12-21 14:38:31.879 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26200 environment=dev
2025-12-21 14:38:31.912 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26200 environment=dev
2025-12-21 14:38:54.356 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-29172 environment=dev
2025-12-21 14:38:54.391 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.04s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-29172 environment=dev
2025-12-21 14:38:54.394 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:54.478 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:38:54.486 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:54.513 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:54.532 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:38:54.543 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:54.591 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:54.659 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:54.700 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:54.724 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:38:54.748 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:38:54.760 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:38:54.785 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:58.092 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:58.107 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:38:58.107 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:58.133 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:58.155 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:38:58.167 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:38:58.172 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:58.177 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:38:58.191 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:38:58.200 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:38:58.211 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:38:58.214 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:39:06.048 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:39:06.055 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:39:06.067 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:39:06.078 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:39:06.114 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:39:10.121 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:39:10.134 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:39:10.140 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:39:10.171 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:39:10.179 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:39:45.784 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:40:35.562 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field entity_id in documents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.579 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field filename in documents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.579 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content_type in documents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.587 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field size_bytes in documents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.595 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field chunk_count in documents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.595 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in documents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.603 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tags in documents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.611 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in documents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.615 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column entity_id to table documents | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.630 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column entity_id to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.638 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column filename to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.652 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content_type to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.671 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column size_bytes to table documents | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.695 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column size_bytes to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.716 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column chunk_count to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.736 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to table documents | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.751 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.758 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tags to table documents | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.764 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tags to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.774 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table documents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29172 environment=dev
2025-12-21 14:40:35.879 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'entity_id', 'filename', 'content_type', 'size_bytes', 'chunk_count', 'title', 'tags', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:40:35.912 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:40:35.935 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:40:36.127 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:40:36.130 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:47:58.053 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:47:58.324 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:47:58.355 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:47:58.377 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:47:58.420 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:47:58.420 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:00.445 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:00.470 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:00.483 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:00.508 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:00.692 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:00.701 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:00.706 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:00.717 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:00.725 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:00.731 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:05.240 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:05.255 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:05.259 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:05.300 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:06.796 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:06.802 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:06.815 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:06.843 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:06.863 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:14.563 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:14.577 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:14.589 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:14.602 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 17, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:14.612 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:14.613 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 18, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:14.642 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 18, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:14.652 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:14.658 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 19, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:14.674 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 19, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:48:14.682 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:14.697 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:14.708 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:14.710 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:48:14.719 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 20, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:50:06.853 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 20, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:50:08.346 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'entity_id', 'filename', 'content_type', 'size_bytes', 'chunk_count', 'title', 'tags', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:50:08.360 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 21, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:50:08.371 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 22, "total_released": 21, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:50:08.386 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:50:08.391 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 22, "total_released": 22, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:08.917 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 23, "total_released": 22, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:09.041 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:09.068 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 23, "total_released": 23, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:09.078 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 24, "total_released": 23, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:09.089 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:09.092 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 24, "total_released": 24, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:14.730 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 25, "total_released": 24, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:14.797 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:14.811 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 25, "total_released": 25, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:14.819 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 26, "total_released": 25, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:14.830 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:14.835 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 26, "total_released": 26, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:17.191 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 27, "total_released": 26, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:17.202 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:17.203 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 27, "total_released": 27, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:17.214 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 28, "total_released": 27, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:17.221 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:17.291 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 28, "total_released": 28, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:17.300 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 29, "total_released": 28, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:17.310 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:17.317 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:17.324 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 29, "total_released": 29, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:19.948 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 30, "total_released": 29, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:19.968 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:19.984 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:20.042 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:21.577 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:21.586 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:21.601 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:21.627 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:21.638 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 30, "total_released": 30, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:32.054 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 31, "total_released": 30, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:32.060 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:32.074 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:32.101 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:32.134 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:36.836 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:36.862 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:36.870 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:36.907 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:36.927 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 31, "total_released": 31, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:46.117 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 32, "total_released": 31, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:46.132 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:46.135 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 32, "total_released": 32, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:53.855 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 33, "total_released": 32, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:52:53.867 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:53.873 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:53.881 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:52:53.907 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:53:14.324 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:53:14.342 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:53:14.355 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:53:14.394 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:53:14.403 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 33, "total_released": 33, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:53:38.033 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 34, "total_released": 33, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:53:38.044 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:53:38.044 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 34, "total_released": 34, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:24.716 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 35, "total_released": 34, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:24.757 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:24.773 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 35, "total_released": 35, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:24.790 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 36, "total_released": 35, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:24.802 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:24.802 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 36, "total_released": 36, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:24.814 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 37, "total_released": 36, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:24.819 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:24.827 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 37, "total_released": 37, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:24.853 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 38, "total_released": 37, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:24.862 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:24.871 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:24.887 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:24.899 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:24.906 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 38, "total_released": 38, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:30.318 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 39, "total_released": 38, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:30.334 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:30.334 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 39, "total_released": 39, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:30.342 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 40, "total_released": 39, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:30.359 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:30.390 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:30.400 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 40, "total_released": 40, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:30.409 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 41, "total_released": 40, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:30.417 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:30.424 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:30.432 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:30.432 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 41, "total_released": 41, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:31.894 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 42, "total_released": 41, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:31.907 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:31.909 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 42, "total_released": 42, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:31.931 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 43, "total_released": 42, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:31.941 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:31.950 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:31.963 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:31.965 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 43, "total_released": 43, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:31.999 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 44, "total_released": 43, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:32.013 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:32.016 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:32.016 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 44, "total_released": 44, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:33.985 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 45, "total_released": 44, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 14:55:33.990 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29172 environment=dev
2025-12-21 14:55:33.998 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 45, "total_released": 45, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29172 environment=dev
2025-12-21 15:00:55.629 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-29172 environment=dev
2025-12-21 15:00:55.905 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-29172 environment=dev
2025-12-21 15:00:56.155 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-29172 environment=dev
2025-12-21 15:00:56.177 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-29172 environment=dev
2025-12-21 15:01:40.514 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-20848 environment=dev
2025-12-21 15:01:40.528 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-20848 environment=dev
2025-12-21 15:01:40.530 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20848 environment=dev
2025-12-21 15:01:40.586 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20848 environment=dev
2025-12-21 15:01:40.592 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20848 environment=dev
2025-12-21 15:01:40.617 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20848 environment=dev
2025-12-21 15:01:40.640 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20848 environment=dev
2025-12-21 15:01:40.645 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20848 environment=dev
2025-12-21 15:01:40.675 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20848 environment=dev
2025-12-21 15:01:40.690 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20848 environment=dev
2025-12-21 15:01:40.696 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20848 environment=dev
2025-12-21 15:01:40.740 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20848 environment=dev
2025-12-21 15:01:40.754 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20848 environment=dev
2025-12-21 15:01:40.764 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20848 environment=dev
2025-12-21 15:01:40.776 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20848 environment=dev
2025-12-21 15:01:40.791 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for documents from schema: ['id', 'filename', 'content_type', 'size', 'path', 'chunk_count', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at', 'entity_id', 'size_bytes', 'title', 'tags'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20848 environment=dev
2025-12-21 15:01:40.792 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20848 environment=dev
2025-12-21 15:02:00.740 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20848 environment=dev
2025-12-21 15:03:14.183 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-20692 environment=dev
2025-12-21 15:03:14.212 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.03s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-20692 environment=dev
2025-12-21 15:03:14.222 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:14.327 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:14.351 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:14.367 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:14.392 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:14.409 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:14.452 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:14.500 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:30.496 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:30.527 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.531 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.536 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.539 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.539 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.547 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.547 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.555 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.555 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.564 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.565 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.581 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.586 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.598 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.602 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.616 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.624 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.632 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.642 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.654 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:30.674 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:30.690 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:30.702 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:30.714 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:30.717 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:41.388 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:41.407 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.416 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.416 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.422 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.427 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.432 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.435 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.439 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.449 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.458 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.465 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.474 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.481 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.495 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.498 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.507 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:41.528 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:41.535 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:41.548 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:41.558 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:41.561 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:42.460 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:42.468 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:42.472 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:42.481 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:42.489 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:42.498 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:42.514 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:42.523 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:42.534 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:42.539 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:45.425 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:45.434 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:45.439 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:45.464 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.466 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.472 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.472 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.480 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.484 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.488 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.488 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.499 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.514 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.522 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.534 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.534 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.549 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:45.566 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:49.365 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:49.383 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:49.389 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:49.415 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:49.422 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:49.433 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:49.433 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20692 environment=dev
2025-12-21 15:03:49.460 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:49.475 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:58.943 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:03:58.956 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:58.964 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:58.966 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:03:59.005 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:04:01.818 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:04:01.831 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:04:01.842 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:04:01.871 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20692 environment=dev
2025-12-21 15:04:01.882 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:04:09.102 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20692 environment=dev
2025-12-21 15:07:21.676 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-15416 environment=dev
2025-12-21 15:07:21.867 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.36s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-15416 environment=dev
2025-12-21 15:07:21.920 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:22.282 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:22.494 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:22.573 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:22.603 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:22.635 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:22.747 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:22.884 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:42.053 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:42.112 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.119 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.119 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.127 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.137 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.137 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.145 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.148 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.154 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.159 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.163 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.181 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.188 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.204 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.213 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.228 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.235 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.248 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.263 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.277 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:42.300 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:42.317 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:42.352 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:42.376 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:42.382 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:48.801 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:48.862 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:48.868 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:48.880 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:48.898 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:48.913 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:48.925 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:48.930 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:48.948 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:48.972 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:48.990 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:49.017 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:49.038 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:49.061 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:49.083 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:49.111 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:49.126 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:49.181 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:49.201 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:49.218 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:49.266 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:49.281 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:54.396 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:54.441 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:54.447 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:54.465 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:54.481 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:54.492 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:54.553 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:54.578 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:54.595 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:54.611 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:56.570 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:07:56.587 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:56.597 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:56.629 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.634 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.637 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.637 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.646 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.646 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.655 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.662 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.676 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.684 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.695 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.698 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.713 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.716 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:56.743 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:59.532 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:59.550 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:59.559 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:59.577 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:59.585 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:59.598 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:59.608 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-15416 environment=dev
2025-12-21 15:07:59.624 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:07:59.640 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:08:07.171 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:08:07.182 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:08:07.187 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:08:07.193 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:08:07.219 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:08:10.212 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:08:10.229 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:08:10.233 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:08:10.256 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-15416 environment=dev
2025-12-21 15:08:10.263 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:08:11.721 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:08:11.721 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15416 environment=dev
2025-12-21 15:12:07.684 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-15416 environment=dev
2025-12-21 15:12:07.744 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-15416 environment=dev
2025-12-21 15:12:07.763 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-15416 environment=dev
2025-12-21 15:12:07.773 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-15416 environment=dev
2025-12-21 15:12:18.905 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-23692 environment=dev
2025-12-21 15:12:18.923 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-23692 environment=dev
2025-12-21 15:12:18.924 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:18.992 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:18.995 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:19.022 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:19.029 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:19.029 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:19.047 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:19.053 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:19.078 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:19.086 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:19.094 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:19.104 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:19.112 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:23.055 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:23.063 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:23.065 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:23.082 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:23.093 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:23.131 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:23.137 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:23.137 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:23.153 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:23.160 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:23.168 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:23.168 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:24.876 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:12:24.886 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:24.893 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23692 environment=dev
2025-12-21 15:12:24.920 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23692 environment=dev
2025-12-21 15:14:51.010 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-23692 environment=dev
2025-12-21 15:14:51.070 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-23692 environment=dev
2025-12-21 15:14:51.099 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-23692 environment=dev
2025-12-21 15:14:51.102 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-23692 environment=dev
2025-12-21 15:15:58.531 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-20856 environment=dev
2025-12-21 15:15:58.586 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.05s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-20856 environment=dev
2025-12-21 15:15:58.587 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:15:58.667 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:15:58.711 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:15:58.738 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:15:58.750 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:15:58.766 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:15:58.807 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:15:58.884 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:18.039 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:18.067 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.071 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.073 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.083 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.087 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.090 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.099 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.101 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.103 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.112 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.123 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.129 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.149 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.169 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.190 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.203 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.212 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.224 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.234 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.247 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:18.270 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:18.286 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:18.301 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:18.308 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:18.312 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:22.114 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:22.141 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.142 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.149 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.149 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.154 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.159 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.160 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.163 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.175 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.175 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.192 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.201 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.211 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.221 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.227 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.237 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:22.258 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:22.269 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:22.282 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:22.291 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:22.294 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:22.304 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:22.308 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:22.308 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:22.328 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:22.338 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:22.345 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:22.361 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:22.375 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:22.382 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:22.388 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:25.576 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:25.591 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:25.599 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:25.627 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.632 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.634 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.640 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.644 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.648 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.648 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.658 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.668 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.675 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.688 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.692 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.704 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.711 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:25.725 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:28.241 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:28.253 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:28.261 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:28.281 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:28.286 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:28.293 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:28.301 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-20856 environment=dev
2025-12-21 15:16:28.312 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:28.335 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:37.277 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:37.288 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:37.291 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:37.300 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:37.340 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:39.558 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:39.584 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:39.591 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:39.625 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:39.643 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:41.317 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:16:41.326 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:41.330 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-20856 environment=dev
2025-12-21 15:16:43.678 [WARN] [WARN] retry - async_wrapper -  Max retries (3) exceeded for _execute_statement_async: no such table: user_memory | component=retry subcomponent=async_wrapper service_name=service-20856 environment=dev
2025-12-21 15:16:44.062 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-20856 environment=dev
2025-12-21 15:35:08.564 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-20856 environment=dev
2025-12-21 15:35:10.067 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-20856 environment=dev
2025-12-21 15:35:10.176 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-20856 environment=dev
2025-12-21 15:35:10.218 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-20856 environment=dev
2025-12-21 15:39:07.385 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28364 environment=dev
2025-12-21 15:39:07.414 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.03s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-28364 environment=dev
2025-12-21 15:39:07.417 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:07.484 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:07.768 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:07.776 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:07.804 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:07.813 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:07.965 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:07.983 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:24.844 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:24.993 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:24.997 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.010 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.018 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.031 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.031 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.048 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.097 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.120 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.126 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.133 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.140 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.236 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.257 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.266 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.276 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.288 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.408 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.428 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.440 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:25.459 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:25.581 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:25.609 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:25.647 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:25.751 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:30.352 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:30.399 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.414 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.424 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.433 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.448 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.473 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.489 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.499 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.564 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.602 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.730 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.759 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.778 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.791 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.926 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:30.945 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:31.130 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:31.249 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:31.283 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:31.412 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:31.416 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:31.591 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:31.608 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:31.609 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:32.012 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:32.157 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:32.168 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:32.177 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:32.504 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:32.551 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:32.628 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:33.738 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:33.754 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:33.762 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:33.847 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:33.854 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:33.863 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:33.871 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:33.975 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:33.979 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:34.097 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:34.219 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:34.321 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:34.328 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:34.337 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:34.397 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:34.469 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:34.474 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:34.493 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:38.887 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:39.000 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:39.014 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:39.129 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:39.140 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:39.249 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:39.338 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28364 environment=dev
2025-12-21 15:39:39.383 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:39.404 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:46.250 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:46.274 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:46.289 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:46.302 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:46.417 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:49.375 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:49.465 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:49.465 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:49.662 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28364 environment=dev
2025-12-21 15:39:49.736 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 15:39:52.240 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28364 environment=dev
2025-12-21 20:36:54.781 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-8980 environment=dev
2025-12-21 20:36:54.798 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-8980 environment=dev
2025-12-21 20:36:54.799 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:36:55.276 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:06.650 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:06.783 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-8980 environment=dev
2025-12-21 20:37:06.800 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:06.807 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:06.817 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-8980 environment=dev
2025-12-21 20:37:06.818 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:06.840 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:06.850 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:06.881 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:06.891 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-8980 environment=dev
2025-12-21 20:37:06.901 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-8980 environment=dev
2025-12-21 20:37:06.906 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-8980 environment=dev
2025-12-21 20:37:06.910 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:15.830 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:15.838 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-8980 environment=dev
2025-12-21 20:37:15.846 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:15.854 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:15.868 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-8980 environment=dev
2025-12-21 20:37:15.883 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-8980 environment=dev
2025-12-21 20:37:15.887 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:15.887 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:15.942 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-8980 environment=dev
2025-12-21 20:37:15.955 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-8980 environment=dev
2025-12-21 20:37:15.961 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-8980 environment=dev
2025-12-21 20:37:15.968 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:18.026 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:37:18.033 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:38:04.099 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-8980 environment=dev
2025-12-21 20:41:06.769 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-30420 environment=dev
2025-12-21 20:41:06.773 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-30420 environment=dev
2025-12-21 20:41:06.774 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:41:06.786 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:43:25.672 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:43:25.687 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:43:25.700 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:43:25.706 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:43:25.715 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:43:25.731 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:43:25.743 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:43:25.766 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:11.299 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:11.336 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.342 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.346 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.348 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.353 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.355 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.358 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.363 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.363 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.371 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.375 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.380 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.394 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.399 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.413 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.421 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.433 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.448 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.448 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.462 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.470 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.480 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:11.497 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:11.515 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:11.522 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:11.532 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:11.532 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:21.571 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:21.603 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.605 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.609 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.614 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.614 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.622 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.626 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.631 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.639 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.647 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.657 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.665 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.665 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.681 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.696 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.698 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:21.723 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:21.738 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:21.748 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:21.758 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:21.760 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:21.772 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:21.774 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:21.782 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:21.794 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:21.800 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:21.813 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:21.815 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:21.829 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:21.831 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:21.841 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:22.735 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:22.747 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:22.747 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:22.771 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:22.785 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:22.796 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:22.798 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:22.831 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:22.839 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:22.847 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:29.953 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:29.963 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:29.963 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:30.000 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.011 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.013 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.013 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.013 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.027 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.031 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.031 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.047 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.050 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.065 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.074 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.081 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.097 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:30.113 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:33.040 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:33.047 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:33.063 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:33.080 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:33.087 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:33.093 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:33.104 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30420 environment=dev
2025-12-21 20:44:33.125 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:33.131 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:38.265 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:38.284 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:38.299 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:38.303 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:38.347 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:40.970 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:40.980 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:40.997 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:41.030 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30420 environment=dev
2025-12-21 20:44:41.041 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:54.729 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 17, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:44:54.741 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 18, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30420 environment=dev
2025-12-21 20:50:49.263 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-30420 environment=dev
2025-12-21 20:50:49.272 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-30420 environment=dev
2025-12-21 20:50:49.279 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-30420 environment=dev
2025-12-21 20:50:49.281 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-30420 environment=dev
2025-12-21 20:50:59.850 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28632 environment=dev
2025-12-21 20:50:59.850 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-28632 environment=dev
2025-12-21 20:50:59.850 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28632 environment=dev
2025-12-21 20:50:59.916 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28632 environment=dev
2025-12-21 20:51:16.467 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-28632 environment=dev
2025-12-21 20:51:16.471 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-28632 environment=dev
2025-12-21 20:51:16.473 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28632 environment=dev
2025-12-21 20:51:16.474 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28632 environment=dev
2025-12-21 20:51:48.175 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-23536 environment=dev
2025-12-21 20:51:48.180 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-23536 environment=dev
2025-12-21 20:51:48.180 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23536 environment=dev
2025-12-21 20:51:48.186 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23536 environment=dev
2025-12-21 21:00:46.038 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23536 environment=dev
2025-12-21 21:00:46.057 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23536 environment=dev
2025-12-21 21:00:46.064 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23536 environment=dev
2025-12-21 21:00:46.073 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23536 environment=dev
2025-12-21 21:00:46.080 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23536 environment=dev
2025-12-21 21:00:46.080 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23536 environment=dev
2025-12-21 21:00:46.093 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23536 environment=dev
2025-12-21 21:00:46.099 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23536 environment=dev
2025-12-21 21:00:46.117 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23536 environment=dev
2025-12-21 21:00:46.128 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23536 environment=dev
2025-12-21 21:00:46.137 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23536 environment=dev
2025-12-21 21:00:46.144 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23536 environment=dev
2025-12-21 21:00:46.144 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23536 environment=dev
2025-12-21 21:00:53.787 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23536 environment=dev
2025-12-21 21:01:47.469 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-16488 environment=dev
2025-12-21 21:01:47.480 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-16488 environment=dev
2025-12-21 21:01:47.484 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:01:47.500 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:01:48.705 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:01:48.720 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:01:48.729 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:01:48.738 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:01:48.747 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:01:48.747 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:01:48.771 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:01:48.795 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:09.111 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:09.144 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.150 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.150 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.150 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.163 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.168 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.172 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.176 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.180 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.180 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.189 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.197 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.197 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.213 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.226 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.249 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.259 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.271 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.288 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.304 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.320 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.330 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:09.351 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:09.366 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:09.375 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:09.388 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:09.391 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:13.052 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:13.086 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.090 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.094 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.094 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.094 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.104 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.108 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.112 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.119 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.129 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.136 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.145 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.160 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.164 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.169 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.183 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:13.196 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:13.210 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:13.218 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:13.220 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:13.220 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:13.237 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:13.245 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:13.247 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:13.256 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:13.270 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:13.272 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:13.280 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:13.287 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:13.296 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:13.296 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:16.658 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:16.665 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:16.682 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:16.712 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.716 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.716 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.726 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.729 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.732 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.732 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.742 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.747 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.758 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.765 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.774 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.782 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.791 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:16.806 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:21.829 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:21.846 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:21.854 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:21.871 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:21.878 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:21.889 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:21.897 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-16488 environment=dev
2025-12-21 21:02:21.919 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:21.932 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:23.938 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:23.950 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:23.954 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:23.963 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:53.253 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:02:53.283 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:53.288 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-16488 environment=dev
2025-12-21 21:02:53.299 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-16488 environment=dev
2025-12-21 21:11:44.654 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-16488 environment=dev
2025-12-21 21:11:44.786 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-16488 environment=dev
2025-12-21 21:11:44.847 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-16488 environment=dev
2025-12-21 21:11:44.859 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-16488 environment=dev
2025-12-21 21:11:56.771 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-4452 environment=dev
2025-12-21 21:11:56.793 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-4452 environment=dev
2025-12-21 21:11:56.796 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4452 environment=dev
2025-12-21 21:11:56.847 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-4452 environment=dev
2025-12-21 21:13:06.953 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-4452 environment=dev
2025-12-21 21:13:06.956 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-4452 environment=dev
2025-12-21 21:13:06.959 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-4452 environment=dev
2025-12-21 21:13:06.961 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-4452 environment=dev
2025-12-21 21:13:52.416 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-29348 environment=dev
2025-12-21 21:13:52.416 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-29348 environment=dev
2025-12-21 21:13:52.416 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:13:52.441 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:05.349 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:05.366 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:05.380 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:05.391 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:05.398 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:05.407 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:05.430 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:05.446 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:43.936 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:43.966 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:43.966 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:43.976 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:43.976 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:43.982 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:43.986 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:43.986 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:43.991 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:43.996 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:43.999 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.001 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.007 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.016 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.025 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.033 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.040 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.050 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.056 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.058 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.076 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.082 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.091 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:44.107 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:14:44.127 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:44.127 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:44.146 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:14:44.147 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:51.656 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:51.682 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.686 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.693 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.698 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.702 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.702 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.707 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.712 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.720 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.726 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.742 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.751 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.759 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.767 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.776 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.786 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:14:51.800 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:14:51.818 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:51.829 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:51.840 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:14:51.840 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:51.851 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:51.862 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:14:51.866 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:51.877 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:51.900 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:14:51.910 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:51.914 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:14:51.926 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:14:51.936 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:14:51.940 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:15:05.242 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:15:05.256 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:15:05.262 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:15:05.296 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.299 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.299 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.307 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.307 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.316 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.316 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.327 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.336 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.346 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.353 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.358 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.366 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.378 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:05.399 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:15:08.289 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:15:08.307 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:15:08.310 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:15:08.330 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:08.342 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:08.350 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:08.362 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:15:08.380 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:15:08.397 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:15:16.891 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:15:16.906 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:15:16.912 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:15:16.926 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:15:16.956 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:15:19.566 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:16:04.234 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:16:04.246 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:16:04.266 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:16:04.276 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:16:06.297 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:16:06.308 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:16:06.312 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field schema in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:16:06.315 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field last_reason in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:16:06.327 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:16:06.342 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:16:06.349 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column schema to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:16:06.362 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column last_reason to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-29348 environment=dev
2025-12-21 21:16:06.379 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:16:06.398 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:16:57.282 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:16:57.294 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:16:57.300 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:16:57.311 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:16:57.344 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:16:59.393 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:17:08.123 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:17:08.140 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:08.147 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:08.156 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:10.410 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:10.430 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:17:34.591 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 17, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:17:34.610 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:34.612 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:34.628 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:34.661 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:37.121 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 18, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:17:40.402 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 18, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:17:40.419 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:40.427 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:40.435 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:43.621 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 19, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:17:46.912 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 19, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:17:46.929 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:46.935 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:46.941 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-29348 environment=dev
2025-12-21 21:17:49.073 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 20, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-29348 environment=dev
2025-12-21 21:20:07.616 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-29348 environment=dev
2025-12-21 21:20:07.625 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-29348 environment=dev
2025-12-21 21:20:07.629 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-29348 environment=dev
2025-12-21 21:20:07.631 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-29348 environment=dev
2025-12-21 21:20:16.447 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26968 environment=dev
2025-12-21 21:20:16.454 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-26968 environment=dev
2025-12-21 21:20:16.456 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26968 environment=dev
2025-12-21 21:20:16.483 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26968 environment=dev
2025-12-21 21:20:36.421 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-26968 environment=dev
2025-12-21 21:20:36.431 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-26968 environment=dev
2025-12-21 21:20:36.433 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26968 environment=dev
2025-12-21 21:20:36.437 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26968 environment=dev
2025-12-21 21:20:43.480 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28052 environment=dev
2025-12-21 21:20:43.537 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.06s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-28052 environment=dev
2025-12-21 21:20:43.545 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:43.599 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:43.751 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:43.773 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:43.777 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:43.794 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:43.808 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:43.813 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:43.822 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:43.833 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:43.847 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:43.867 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:43.879 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:43.889 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:43.903 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:45.483 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:45.492 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:45.495 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:45.509 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:45.516 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:45.524 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:45.533 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:45.540 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:45.570 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:45.574 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:45.590 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:45.590 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:59.467 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:20:59.483 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:59.483 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:59.500 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:20:59.530 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:21:02.703 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:21:02.720 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:21:02.727 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:21:02.763 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:21:02.776 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:21:08.604 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:21:08.622 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:21:08.628 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:21:08.636 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:21:10.599 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:23:59.347 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:23:59.356 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:23:59.364 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:23:59.379 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28052 environment=dev
2025-12-21 21:24:01.512 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28052 environment=dev
2025-12-21 21:24:01.580 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-28052 environment=dev
2025-12-21 21:24:01.580 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-28052 environment=dev
2025-12-21 21:24:01.588 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28052 environment=dev
2025-12-21 21:24:01.588 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28052 environment=dev
2025-12-21 21:24:08.892 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14076 environment=dev
2025-12-21 21:24:08.901 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-14076 environment=dev
2025-12-21 21:24:08.903 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:24:09.060 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:24:09.173 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:24:09.329 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:09.351 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:09.361 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:11.126 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:11.136 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:24:30.351 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:24:30.370 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:30.377 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:30.391 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:30.426 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:34.212 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:34.227 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:34.236 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:34.268 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:34.278 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:24:59.739 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:24:59.747 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:59.753 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:24:59.759 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:01.141 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:01.150 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:25:22.812 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:25:22.828 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:22.836 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:22.847 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:22.880 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:24.790 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:24.802 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:24.810 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:24.841 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:24.854 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:25:29.427 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:25:29.442 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:29.442 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:29.451 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:30.433 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:30.446 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:25:41.982 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:25:42.001 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:42.014 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:42.020 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:43.050 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:25:43.059 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:03.378 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:03.388 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:03.392 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:03.402 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:03.410 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:03.411 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:03.417 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:03.434 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:03.484 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:03.491 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:03.499 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:03.508 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:03.515 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:05.689 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:05.711 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:05.714 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:05.725 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:05.738 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:05.739 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:05.747 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:05.756 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:05.785 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:05.796 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:05.804 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:05.806 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:08.079 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:08.084 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:08.091 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:08.101 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:09.346 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:09.358 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:16.634 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:16.648 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:16.654 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:18.141 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:26:18.150 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-14076 environment=dev
2025-12-21 21:26:18.154 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-14076 environment=dev
2025-12-21 21:33:07.643 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-14076 environment=dev
2025-12-21 21:33:07.649 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-14076 environment=dev
2025-12-21 21:33:07.652 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14076 environment=dev
2025-12-21 21:33:07.654 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-14076 environment=dev
2025-12-21 21:33:16.652 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-19992 environment=dev
2025-12-21 21:33:16.653 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-19992 environment=dev
2025-12-21 21:33:16.653 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:16.691 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:16.872 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:16.896 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:16.896 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:16.904 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:16.922 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:16.926 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:16.937 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:16.945 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:16.962 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:16.978 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:16.993 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:17.010 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:17.060 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:18.177 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:18.187 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:18.192 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:18.209 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:18.224 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:18.241 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:18.249 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:18.249 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:18.271 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:18.274 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:18.282 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:18.288 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:22.944 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:22.955 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:22.959 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:29.333 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:29.349 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:29.358 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:40.630 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:40.640 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:40.649 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:40.663 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:40.697 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:45.843 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:45.870 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:45.876 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:45.902 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:45.916 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:51.665 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:33:51.675 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19992 environment=dev
2025-12-21 21:33:51.680 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19992 environment=dev
2025-12-21 21:38:36.417 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-19992 environment=dev
2025-12-21 21:38:36.434 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-19992 environment=dev
2025-12-21 21:38:36.442 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-19992 environment=dev
2025-12-21 21:38:36.444 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-19992 environment=dev
2025-12-21 21:38:44.795 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-9916 environment=dev
2025-12-21 21:38:44.811 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-9916 environment=dev
2025-12-21 21:38:44.811 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:38:44.854 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:10.135 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:10.171 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:10.187 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:10.197 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:10.204 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:10.204 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:15.377 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:15.402 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:15.415 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:15.428 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:15.433 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:15.441 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:15.449 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:15.478 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:15.482 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:15.489 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:15.505 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:15.512 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:15.513 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:15.522 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:15.532 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:15.538 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:20.314 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:20.339 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:20.347 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:20.385 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:22.393 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:22.410 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:22.418 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:22.449 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:22.461 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:30.549 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:30.565 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:30.574 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:30.586 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:30.615 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:33.607 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:33.625 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:33.637 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:33.670 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:33.688 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:52.647 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:39:52.665 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:52.671 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:52.679 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:52.719 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:55.409 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:55.423 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:55.431 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:55.465 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:39:55.480 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:23.342 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:23.352 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:40:23.354 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:23.362 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:23.372 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:40:23.375 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:23.384 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:23.392 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:23.412 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:23.416 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:40:23.427 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:40:23.432 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:40:23.440 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:28.825 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:28.830 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:40:28.839 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:28.855 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:28.866 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:40:28.872 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:40:28.879 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:40:28.883 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:28.904 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 17, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:40:28.920 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:40:28.929 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:40:28.933 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 18, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:42:20.176 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 18, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:42:20.193 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:20.202 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:20.210 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:20.243 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:23.482 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:23.504 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:23.512 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:23.546 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:23.560 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 19, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:42:28.991 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 19, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:42:29.000 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:29.010 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 20, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:42:30.422 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 20, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:42:30.432 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:30.436 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 21, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:42:35.520 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 22, "total_released": 21, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:42:35.540 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:35.548 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:35.557 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:35.594 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:38.760 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:38.777 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:38.784 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:38.810 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-9916 environment=dev
2025-12-21 21:42:38.826 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 22, "total_released": 22, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:42:41.710 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 23, "total_released": 22, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-9916 environment=dev
2025-12-21 21:47:56.848 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-30192 environment=dev
2025-12-21 21:47:56.872 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-30192 environment=dev
2025-12-21 21:47:56.872 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:47:57.176 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:12.675 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:12.688 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:12.704 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:12.713 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:12.728 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:12.736 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:12.777 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:12.793 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:35.794 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:35.821 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.825 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.829 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.833 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.837 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.839 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.845 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.845 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.845 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.854 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.854 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.865 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.877 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.881 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.895 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.905 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.913 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.923 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.929 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.939 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.945 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.955 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:35.978 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:35.989 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:36.000 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:36.012 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:36.014 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:41.710 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:41.763 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.772 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.778 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.780 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.782 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.786 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.790 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.797 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.804 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.812 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.823 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.830 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.836 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.846 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.854 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.862 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:41.874 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:41.891 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:41.897 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:41.907 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:41.907 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:41.915 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:41.922 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:41.930 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:41.930 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:41.955 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:41.956 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:41.963 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:41.974 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:41.982 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:41.989 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:44.694 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:44.724 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:44.730 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:44.763 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.763 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.771 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.772 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.772 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.780 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.780 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.792 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.800 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.804 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.812 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.823 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.829 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.839 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:44.862 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:46.924 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:46.942 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:46.950 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:46.965 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:46.974 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:46.982 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:46.997 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-30192 environment=dev
2025-12-21 21:48:47.014 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:47.032 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:57.039 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:48:57.045 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:57.072 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:57.091 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:48:57.123 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:00.703 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:00.723 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:00.729 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:00.768 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:00.787 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:49:41.032 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:49:41.046 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:41.052 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:41.062 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:41.095 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:43.706 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:43.721 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:43.727 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:43.759 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-30192 environment=dev
2025-12-21 21:49:43.772 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:49:51.207 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-30192 environment=dev
2025-12-21 21:56:31.572 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-28524 environment=dev
2025-12-21 21:56:31.576 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-28524 environment=dev
2025-12-21 21:56:31.584 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:31.641 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:32.720 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:32.736 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:32.770 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:32.777 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:32.793 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:32.807 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:32.837 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:32.852 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:52.158 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:52.191 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.195 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.199 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.204 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.208 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.211 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.216 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.216 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.224 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.224 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.231 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.233 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.241 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.258 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.265 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.274 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.282 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.291 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.299 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.307 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.315 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.324 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:56:52.340 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:56:52.358 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:52.373 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:56:52.381 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:56:52.386 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:00.643 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:00.675 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.679 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.685 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.685 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.694 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.696 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.701 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.701 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.712 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.720 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.728 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.740 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.748 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.759 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.768 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.777 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:00.797 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:00.808 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:00.812 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:00.827 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:00.855 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:00.865 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:00.877 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:00.877 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:00.883 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:00.901 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:00.907 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:00.907 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:00.925 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:00.931 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:00.937 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:09.424 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:09.441 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:09.446 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:09.474 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.485 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.485 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.492 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.495 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.499 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.504 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.513 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.523 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.532 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.540 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.549 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.556 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.564 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:09.588 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:12.902 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:12.919 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:12.925 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:12.944 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:12.952 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:12.962 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:12.967 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-28524 environment=dev
2025-12-21 21:57:12.985 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:13.002 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:21.270 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:21.310 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:21.317 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:21.327 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:21.358 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:25.129 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:25.149 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:25.159 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:25.192 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-28524 environment=dev
2025-12-21 21:57:25.207 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 21:57:29.872 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-28524 environment=dev
2025-12-21 22:04:17.173 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-24280 environment=dev
2025-12-21 22:04:17.188 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-24280 environment=dev
2025-12-21 22:04:17.189 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:17.237 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:17.431 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:17.447 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:17.456 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:17.464 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:17.475 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:17.483 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:17.515 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:17.533 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:43.325 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:43.358 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.365 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.371 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.376 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.383 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.389 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.393 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.398 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.401 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.407 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.411 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.419 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.431 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.449 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.464 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.464 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.481 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.495 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.503 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.513 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.521 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.530 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:43.543 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:04:43.559 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:43.568 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:43.577 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:04:43.579 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:47.856 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:47.886 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.892 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.897 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.900 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.904 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.909 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.914 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.917 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.925 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.935 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.945 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.957 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.970 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.979 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.987 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:47.994 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:48.007 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:04:48.023 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:48.031 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:48.039 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:04:48.042 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:48.060 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:48.068 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:04:48.071 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:48.079 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:48.089 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:04:48.102 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:48.105 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:48.116 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:04:48.123 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:04:48.129 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:59.166 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:04:59.183 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:04:59.190 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:04:59.234 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.239 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.244 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.250 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.256 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.260 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.268 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.277 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.286 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.294 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.307 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.314 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.314 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.331 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:04:59.357 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:01.650 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:01.664 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:01.671 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:01.682 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:05:01.686 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:05:01.692 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:05:01.698 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-24280 environment=dev
2025-12-21 22:05:01.705 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:01.714 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:05:16.807 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:05:16.824 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:16.833 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:16.854 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:16.894 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:19.223 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:19.242 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:19.248 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:19.277 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-24280 environment=dev
2025-12-21 22:05:19.294 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:05:58.723 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-24280 environment=dev
2025-12-21 22:09:21.096 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26864 environment=dev
2025-12-21 22:09:21.101 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-26864 environment=dev
2025-12-21 22:09:21.103 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:21.136 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:22.213 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:22.227 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:22.235 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:22.245 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:22.254 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:22.263 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:22.285 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:22.303 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:42.518 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:42.545 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.550 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.557 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.564 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.569 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.575 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.580 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.585 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.592 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.596 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.603 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.616 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.626 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.635 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.643 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.652 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.664 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.675 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.684 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.692 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.699 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.707 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:42.723 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:42.734 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:42.742 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:42.751 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:42.754 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:48.250 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:48.287 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.293 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.299 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.305 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.310 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.315 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.320 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.323 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.332 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.340 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.351 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.359 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.368 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.377 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.386 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.394 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:48.408 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:48.418 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:48.426 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:48.435 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:48.438 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:48.448 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:48.456 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:48.459 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:48.468 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:48.480 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:48.484 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:48.488 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:48.499 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:48.507 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:48.514 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:52.943 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:09:52.952 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:52.958 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:52.989 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:52.992 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:52.997 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:53.002 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:53.006 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:53.012 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:53.016 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:53.029 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:53.041 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:53.054 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:53.066 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:53.074 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:53.085 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:53.096 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:53.110 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:55.103 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:55.118 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:55.124 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:55.138 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:55.143 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:55.151 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:55.160 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:09:55.174 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:09:55.190 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:10:00.807 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:10:00.819 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:10:00.824 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:10:00.837 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:10:00.871 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:10:02.514 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:10:02.518 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:10:02.522 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field schema in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:10:02.525 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field last_reason in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:10:02.532 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:10:02.539 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:10:02.546 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column schema to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:10:02.554 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column last_reason to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26864 environment=dev
2025-12-21 22:10:02.568 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:10:03.657 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:10:03.673 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:10:03.679 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:10:03.706 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:10:03.722 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:10:06.970 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:10:06.979 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26864 environment=dev
2025-12-21 22:10:06.985 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:11:55.114 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26864 environment=dev
2025-12-21 22:24:36.341 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-10120 environment=dev
2025-12-21 22:24:36.353 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-10120 environment=dev
2025-12-21 22:24:36.355 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:36.388 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:36.746 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:36.759 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:36.769 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:36.777 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:36.789 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:36.797 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:36.829 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:36.847 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:53.655 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:53.685 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.689 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.695 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.701 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.709 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.712 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.715 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.718 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.726 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.731 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.738 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.763 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.780 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.796 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.813 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.828 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.837 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.845 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.854 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.863 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.872 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.880 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:53.895 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:24:53.908 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:53.916 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:53.924 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:24:53.927 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:57.915 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:57.946 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:57.950 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:57.954 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:57.958 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:57.964 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:57.971 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:57.976 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:57.980 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:57.992 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:58.001 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:58.010 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:58.022 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:58.030 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:58.040 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:58.052 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:58.058 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:24:58.072 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:24:58.082 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:58.090 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:58.103 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:24:58.105 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:58.114 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:58.122 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:24:58.124 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:58.133 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:58.148 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:24:58.153 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:58.157 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:24:58.171 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:24:58.178 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:24:58.184 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:25:02.917 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:25:02.930 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:02.936 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:02.974 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:02.978 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:02.981 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:02.985 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:02.988 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:02.991 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:02.994 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:03.001 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:03.008 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:03.016 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:03.022 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:03.029 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:03.036 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:03.042 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:03.057 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:05.473 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:05.485 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:05.489 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:05.509 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field parent_thread_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:05.517 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field branch_point_message_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:05.525 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column parent_thread_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:05.537 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column branch_point_message_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:05.551 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:05.564 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:25:09.524 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:25:09.533 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:09.546 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:09.559 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:09.587 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:11.415 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:11.418 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:11.421 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field schema in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:11.424 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field last_reason in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:11.429 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:11.435 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:11.443 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column schema to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:11.450 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column last_reason to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10120 environment=dev
2025-12-21 22:25:11.464 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:12.840 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:12.865 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:12.871 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:12.895 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:12.915 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:25:29.958 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:25:29.970 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:29.979 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:29.994 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:30.036 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:32.083 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:34.636 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:34.654 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:34.660 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:34.687 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:34.703 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:25:38.012 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:25:38.031 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10120 environment=dev
2025-12-21 22:25:38.042 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10120 environment=dev
2025-12-21 22:30:59.828 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-10120 environment=dev
2025-12-21 22:30:59.840 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-10120 environment=dev
2025-12-21 22:30:59.847 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-10120 environment=dev
2025-12-21 22:30:59.850 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-10120 environment=dev
2025-12-21 22:31:07.699 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26028 environment=dev
2025-12-21 22:31:07.703 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-26028 environment=dev
2025-12-21 22:31:07.705 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26028 environment=dev
2025-12-21 22:31:07.748 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26028 environment=dev
2025-12-21 22:31:14.390 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26028 environment=dev
2025-12-21 22:31:14.423 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26028 environment=dev
2025-12-21 22:31:14.434 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26028 environment=dev
2025-12-21 22:31:14.449 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26028 environment=dev
2025-12-21 22:31:14.482 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26028 environment=dev
2025-12-21 22:31:18.788 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26028 environment=dev
2025-12-21 22:31:20.792 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26028 environment=dev
2025-12-21 22:31:20.818 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26028 environment=dev
2025-12-21 22:31:20.830 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26028 environment=dev
2025-12-21 22:31:20.868 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26028 environment=dev
2025-12-21 22:31:20.883 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26028 environment=dev
2025-12-21 22:35:37.027 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-26028 environment=dev
2025-12-21 22:35:37.059 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-26028 environment=dev
2025-12-21 22:35:37.075 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26028 environment=dev
2025-12-21 22:35:37.078 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26028 environment=dev
2025-12-21 22:35:44.673 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-22848 environment=dev
2025-12-21 22:35:44.677 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-22848 environment=dev
2025-12-21 22:35:44.678 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22848 environment=dev
2025-12-21 22:35:44.706 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22848 environment=dev
2025-12-21 22:35:44.711 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22848 environment=dev
2025-12-21 22:35:44.735 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:44.740 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:44.745 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:44.751 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:44.776 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:47.128 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:47.134 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:47.162 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:53.256 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:53.274 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:53.281 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:53.308 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:53.325 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-22848 environment=dev
2025-12-21 22:35:53.328 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22848 environment=dev
2025-12-21 22:43:07.700 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-22848 environment=dev
2025-12-21 22:43:07.788 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-22848 environment=dev
2025-12-21 22:43:07.824 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-22848 environment=dev
2025-12-21 22:43:07.829 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-22848 environment=dev
2025-12-21 22:43:16.338 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-12-21 22:43:16.361 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-12764 environment=dev
2025-12-21 22:43:16.363 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-12-21 22:43:16.422 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-12-21 22:43:59.053 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-12-21 22:43:59.094 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:43:59.101 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:43:59.112 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:43:59.123 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:43:59.154 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:02.733 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:02.742 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:02.773 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:08.099 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:08.123 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:08.128 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:08.157 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:08.173 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:08.186 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-12-21 22:44:22.985 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-12-21 22:44:22.995 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:23.002 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:23.009 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:23.020 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:23.048 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:25.252 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:25.268 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:25.308 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:33.660 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:33.686 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:33.695 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:33.730 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:33.750 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:44:33.755 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-12-21 22:45:02.594 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-12-21 22:45:02.604 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:02.612 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:02.620 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:02.635 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:02.668 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:05.298 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:05.312 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:05.362 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:12.036 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:12.068 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:12.079 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:12.102 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:12.120 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:12.126 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-12-21 22:45:30.889 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-12-21 22:45:30.912 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:30.922 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:30.932 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:30.948 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:30.990 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:36.963 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:36.983 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:36.990 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:37.016 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:37.034 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12764 environment=dev
2025-12-21 22:45:37.037 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12764 environment=dev
2025-12-21 22:46:37.619 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-12-21 22:46:37.630 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-12764 environment=dev
2025-12-21 22:46:37.637 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-12-21 22:46:37.640 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12764 environment=dev
2025-12-21 22:46:44.831 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-22228 environment=dev
2025-12-21 22:46:44.842 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-22228 environment=dev
2025-12-21 22:46:44.843 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22228 environment=dev
2025-12-21 22:46:44.885 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-22228 environment=dev
2025-12-21 22:55:07.648 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-22228 environment=dev
2025-12-21 22:55:07.745 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-22228 environment=dev
2025-12-21 22:55:07.780 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-22228 environment=dev
2025-12-21 22:55:07.781 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-22228 environment=dev
2025-12-21 22:57:56.544 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26896 environment=dev
2025-12-21 22:57:56.560 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-26896 environment=dev
2025-12-21 22:57:56.562 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:57:56.619 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:00.914 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:00.931 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:00.941 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:00.950 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:00.963 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:00.965 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:00.974 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:00.985 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:01.001 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:01.014 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:01.027 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:01.039 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:01.046 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:03.195 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:03.216 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:03.221 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:03.234 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:03.256 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:03.267 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:03.272 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:03.276 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:03.288 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:03.296 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:03.305 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:03.308 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:04.328 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:04.339 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:04.351 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:04.356 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:42.204 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:58:42.223 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:42.235 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:58:42.239 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:59:32.784 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:59:32.798 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:32.806 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:32.856 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:32.870 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:59:33.647 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:59:33.657 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:33.666 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:33.713 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:33.729 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:59:34.119 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:59:34.132 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:34.141 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:34.184 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:34.194 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:59:34.469 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:59:34.477 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:34.482 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:34.506 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:34.516 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:59:34.944 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 22:59:34.950 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:34.957 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:34.985 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 22:59:34.993 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:00:02.412 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:00:02.423 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:02.430 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:02.438 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:02.449 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:02.476 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:11.833 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:11.852 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:11.857 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:11.884 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:11.900 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:11.904 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:00:32.154 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:00:32.176 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:32.186 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:32.200 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:32.215 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:32.247 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:40.096 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:40.119 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:40.125 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:40.144 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:40.168 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:40.173 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:00:52.020 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 17, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:00:52.029 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:52.036 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:52.045 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:52.054 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:52.080 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:59.484 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:59.511 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:59.521 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:59.561 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:59.580 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:00:59.585 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 18, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:01:17.919 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 18, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:01:17.934 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:17.942 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:17.972 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:17.984 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 19, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:01:26.912 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 19, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:01:26.932 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:26.943 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:26.957 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:26.972 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:27.005 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:29.974 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:29.985 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:30.025 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:34.735 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:34.755 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:34.761 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:34.786 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:34.801 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:34.805 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 20, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:01:45.176 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 20, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:01:45.189 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:45.200 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:45.212 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:45.229 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:45.265 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:53.871 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:53.896 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:53.901 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:53.929 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:53.947 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:01:53.950 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 21, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:02:10.906 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 22, "total_released": 21, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:02:10.927 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:10.937 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:10.980 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:10.992 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 22, "total_released": 22, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:02:15.769 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 23, "total_released": 22, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:02:15.779 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:15.789 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:15.802 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:15.819 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:15.862 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:23.138 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:23.165 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:23.172 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:23.199 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:23.218 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:23.222 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 23, "total_released": 23, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:02:53.739 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 24, "total_released": 23, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:02:53.750 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:53.759 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:53.773 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:53.791 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:53.832 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:57.976 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:57.989 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:58.002 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:58.028 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:58.048 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:02:58.052 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 24, "total_released": 24, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:07:08.170 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 25, "total_released": 24, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:07:08.208 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:07:08.222 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:07:08.226 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 25, "total_released": 25, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:07:17.905 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 26, "total_released": 25, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:07:17.919 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:07:17.933 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26896 environment=dev
2025-12-21 23:07:17.938 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 26, "total_released": 26, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26896 environment=dev
2025-12-21 23:11:37.879 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-26896 environment=dev
2025-12-21 23:11:38.026 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-26896 environment=dev
2025-12-21 23:11:38.089 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26896 environment=dev
2025-12-21 23:11:38.101 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26896 environment=dev
2025-12-21 23:11:57.140 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-6196 environment=dev
2025-12-21 23:11:57.171 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.03s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-6196 environment=dev
2025-12-21 23:11:57.175 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6196 environment=dev
2025-12-21 23:11:57.283 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6196 environment=dev
2025-12-21 23:12:07.612 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-6196 environment=dev
2025-12-21 23:12:07.616 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-6196 environment=dev
2025-12-21 23:12:07.619 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-6196 environment=dev
2025-12-21 23:12:07.621 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-6196 environment=dev
2025-12-21 23:13:34.661 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-17980 environment=dev
2025-12-21 23:13:34.665 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-17980 environment=dev
2025-12-21 23:13:34.668 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:34.693 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:35.941 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:35.970 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:35.994 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:36.011 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:36.055 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:36.066 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:36.098 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:36.119 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:36.151 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:36.171 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:36.198 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:36.222 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:36.235 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:38.445 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:38.457 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:38.461 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:38.474 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:38.489 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:38.513 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:38.519 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:38.525 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:38.538 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:38.548 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:38.565 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:38.570 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:40.096 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:40.108 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:40.121 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:40.127 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:45.596 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:45.610 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:45.619 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:45.669 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:45.686 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:47.470 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:13:47.482 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:47.494 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:13:47.497 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:14:06.190 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:14:06.208 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:06.217 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:06.226 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:06.237 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:06.271 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:19.947 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:19.964 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:19.972 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:19.996 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:20.012 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:20.018 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:14:45.480 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:14:45.498 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:45.512 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:45.520 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:14:48.371 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:14:48.383 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:48.394 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:48.439 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:48.450 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:14:49.397 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:14:49.411 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:49.423 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:49.429 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:14:53.270 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:14:53.283 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:53.293 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:53.342 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:53.360 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:14:55.836 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:14:55.842 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:55.851 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:14:55.855 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:15:22.155 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 17, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:15:22.177 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:22.187 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:22.199 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:22.214 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:22.264 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:29.887 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:29.907 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:29.914 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:29.940 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:29.960 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:29.965 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 18, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:15:57.583 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 18, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:15:57.597 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:57.605 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:57.614 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:57.630 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:57.662 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:59.855 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:59.889 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:59.900 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:59.916 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:59.940 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:15:59.943 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 19, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:16:37.561 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 19, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:16:37.575 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:37.588 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:37.603 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:37.620 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:37.657 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:40.293 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:40.318 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:40.326 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:40.356 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:40.376 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:40.382 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 20, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:16:54.259 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 20, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:16:54.273 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:54.283 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:54.326 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:16:54.342 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 21, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:17:06.369 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 22, "total_released": 21, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:17:06.385 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:17:06.393 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:17:06.405 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:17:06.422 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:17:06.467 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:17:10.731 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:17:10.762 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:17:10.770 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:17:10.800 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:17:10.820 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:17:10.823 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 22, "total_released": 22, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:19:22.243 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 23, "total_released": 22, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:19:22.257 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:19:22.265 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:19:22.305 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:19:22.316 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 23, "total_released": 23, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:19:24.968 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 24, "total_released": 23, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:19:24.982 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:19:24.994 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:19:24.997 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 24, "total_released": 24, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:23:55.732 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 25, "total_released": 24, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:23:55.748 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:23:55.755 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:23:55.768 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:23:55.792 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:23:55.835 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:24:02.097 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:24:02.127 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:24:02.137 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:24:02.174 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:24:02.194 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:24:02.197 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 25, "total_released": 25, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:24:46.129 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 26, "total_released": 25, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:24:46.147 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:24:46.157 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:24:46.176 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:24:46.198 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:24:46.240 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:24:46.704 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 26, "total_released": 26, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:25:11.912 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 27, "total_released": 26, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:25:11.934 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:11.942 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:11.989 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:12.003 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 27, "total_released": 27, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:25:20.297 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 28, "total_released": 27, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:25:20.308 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:20.317 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:20.326 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:20.343 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:20.375 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:20.789 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 28, "total_released": 28, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:25:36.689 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 29, "total_released": 28, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:25:36.705 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 29, "total_released": 29, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:25:43.582 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 30, "total_released": 29, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:25:43.595 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:43.604 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:43.615 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:43.628 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:43.668 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:25:44.083 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 30, "total_released": 30, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:29:37.029 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 31, "total_released": 30, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:29:37.063 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:29:37.075 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:29:37.118 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:29:37.135 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 31, "total_released": 31, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:29:44.610 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 32, "total_released": 31, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:29:44.625 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:29:44.634 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:29:44.644 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:29:44.660 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:29:44.705 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:29:45.398 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 32, "total_released": 32, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:30:26.333 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 33, "total_released": 32, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:30:26.349 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:26.356 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:26.403 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:26.419 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 33, "total_released": 33, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:30:34.054 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 34, "total_released": 33, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:30:34.075 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:34.085 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:34.099 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:34.116 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:34.165 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:44.623 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:44.655 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:44.664 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:44.694 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:44.715 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-17980 environment=dev
2025-12-21 23:30:44.719 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 34, "total_released": 34, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-17980 environment=dev
2025-12-21 23:32:06.626 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-17980 environment=dev
2025-12-21 23:32:06.634 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-17980 environment=dev
2025-12-21 23:32:06.642 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-17980 environment=dev
2025-12-21 23:32:06.644 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-17980 environment=dev
2025-12-21 23:32:14.802 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-19800 environment=dev
2025-12-21 23:32:14.808 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-19800 environment=dev
2025-12-21 23:32:14.810 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19800 environment=dev
2025-12-21 23:32:14.851 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19800 environment=dev
2025-12-21 23:32:40.684 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-19800 environment=dev
2025-12-21 23:32:40.690 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-19800 environment=dev
2025-12-21 23:32:40.690 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-19800 environment=dev
2025-12-21 23:32:40.709 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-19800 environment=dev
2025-12-21 23:32:47.644 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-18540 environment=dev
2025-12-21 23:32:47.647 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-18540 environment=dev
2025-12-21 23:32:47.649 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:32:47.686 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:51.637 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:51.659 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:33:51.667 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:51.683 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:51.693 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:33:51.695 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:51.713 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:51.723 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:51.741 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:51.752 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:33:51.761 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:33:51.771 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:33:51.779 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:56.730 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:56.744 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:33:56.746 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:56.758 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:56.786 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:33:56.805 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:33:56.812 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:56.816 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:33:56.827 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:33:56.838 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:33:56.853 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:33:56.857 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:34:00.392 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:34:00.400 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:34:00.405 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'temperature', 'max_tokens', 'tools', 'memory_strategy', 'memory_params', 'context_schema', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:34:00.417 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:34:00.435 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:34:00.477 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:34:03.543 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:34:03.568 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'user_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:34:03.574 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:34:03.602 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived', 'parent_thread_id', 'branch_point_message_id'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:34:03.620 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'context', 'schema', 'created_at', 'updated_at', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-18540 environment=dev
2025-12-21 23:34:03.623 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-18540 environment=dev
2025-12-21 23:39:07.579 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-18540 environment=dev
2025-12-21 23:39:07.598 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-18540 environment=dev
2025-12-21 23:39:07.605 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-18540 environment=dev
2025-12-21 23:39:07.608 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-18540 environment=dev
