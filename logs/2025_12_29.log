2025-12-29 08:04:43.705 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26480 environment=dev
2025-12-29 08:04:43.723 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-26480 environment=dev
2025-12-29 08:04:43.725 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26480 environment=dev
2025-12-29 08:04:44.323 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26480 environment=dev
2025-12-29 08:04:49.552 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-26480 environment=dev
2025-12-29 08:04:49.560 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-26480 environment=dev
2025-12-29 08:04:49.562 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26480 environment=dev
2025-12-29 08:04:49.562 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26480 environment=dev
2025-12-29 08:20:17.600 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-23152 environment=dev
2025-12-29 08:20:17.603 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-23152 environment=dev
2025-12-29 08:20:17.604 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:20:17.952 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:20:56.804 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:20:56.916 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:20:56.929 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:20:56.936 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:20:56.962 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:20:56.977 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:20:57.002 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:20:57.024 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:04.385 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:04.422 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.425 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field owner_user_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.428 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.431 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.435 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.438 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.442 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.446 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field capabilities in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.448 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.452 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.455 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.458 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.460 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.463 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.464 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.467 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.472 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.480 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column owner_user_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.480 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.480 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.497 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.503 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.510 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.517 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column capabilities to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.523 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.531 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.537 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.542 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.549 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.555 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.561 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.567 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:04.579 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'owner_user_id', 'workspace_id', 'system_prompt', 'model', 'provider', 'tools', 'capabilities', 'context_schema', 'metadata', 'temperature', 'max_tokens', 'memory_strategy', 'memory_params', 'premium_provider', 'premium_model'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:04.594 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:04.604 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:04.613 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:04.615 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:07.877 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:07.904 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:07.908 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field description in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:07.911 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in workspaces with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:07.916 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:07.924 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column description to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:07.930 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:07.945 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspaces_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'description', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:07.969 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:07.972 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:07.974 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:07.979 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:07.985 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:07.990 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.001 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members_history from schema: ['id', '0', '1', '2', '3', '4', '5', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'workspace_id', 'user_id', 'role'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.024 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.027 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.030 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.032 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.034 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.037 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.040 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.042 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.045 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.050 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.057 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.064 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.069 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.075 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.081 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.086 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.092 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.098 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.103 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.108 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.113 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.117 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.123 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:21:08.134 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.145 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.155 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.163 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.166 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.182 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.191 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.194 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.209 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.224 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.232 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.245 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.262 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.279 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.283 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.287 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.314 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.324 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.338 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.566 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.629 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members from schema: ['id', 'workspace_id', 'user_id', 'role', 'created_at', 'updated_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.641 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.651 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.654 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.684 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.701 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.704 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.707 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:08.717 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:08.728 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:10.199 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:21:10.214 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:21:10.223 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:34.440 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:34.450 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:34.921 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.922 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.923 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.924 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.926 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.928 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.929 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.931 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.935 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.938 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.940 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.944 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.947 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.962 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:34.977 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:34.996 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:35.469 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:35.477 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:35.482 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:35.486 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23152 environment=dev
2025-12-29 08:22:35.495 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'name'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:35.502 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:35.514 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:35.524 [WARN] [WARN] SqlitePoolManager - _release_connection_to_pool -  Connection from ./data/agents.db pool was out for 85.32s. This may indicate inefficient usage. Stack trace at acquisition:
['  File "<string>", line 1, in <module>\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\spawn.py", line 116, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\spawn.py", line 129, in _main\n    return self._bootstrap(parent_sentinel)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\process.py", line 315, in _bootstrap\n    self.run()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\multiprocessing\\process.py", line 108, in run\n    self._target(*self._args, **self._kwargs)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\_subprocess.py", line 80, in subprocess_started\n    target(sockets=sockets)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\uvicorn\\server.py", line 65, in run\n    return asyncio.run(self.serve(sockets=sockets))\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\runners.py", line 43, in run\n    return loop.run_until_complete(main)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 629, in run_until_complete\n    self.run_forever()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 596, in run_forever\n    self._run_once()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\base_events.py", line 1890, in _run_once\n    handle._run()\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\asyncio\\events.py", line 80, in _run\n    self._context.run(self._callback, *self._args)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\middleware\\exceptions.py", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 776, in app\n    await route.handle(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\starlette\\routing.py", line 72, in app\n    response = await func(request)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\fastapi\\routing.py", line 269, in app\n    solved_result = await solve_dependencies(\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\fastapi\\dependencies\\utils.py", line 596, in solve_dependencies\n    solved = await solve_generator(\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\site-packages\\fastapi\\dependencies\\utils.py", line 521, in solve_generator\n    return await stack.enter_async_context(cm)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\contextlib.py", line 556, in enter_async_context\n    result = await _cm_type.__aenter__(cm)\n', '  File "c:\\users\\vergn\\appdata\\local\\programs\\python\\python39\\lib\\contextlib.py", line 175, in __aenter__\n    return await self.gen.__anext__()\n', '  File "C:\\Users\\vergn\\Desktop\\Projects\\agent_service\\deps.py", line 475, in get_db\n    async with _db_manager as conn:\n', '  File "C:\\Users\\vergn\\Desktop\\Projects\\shared_libs\\backend\\databases\\manager.py", line 141, in __aenter__\n    self._async_conn = await self._db.get_async_connection()\n',... [truncated] | component=SqlitePoolManager subcomponent=_release_connection_to_pool service_name=service-23152 environment=dev
2025-12-29 08:22:35.524 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:22:35.553 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 17, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:22:35.559 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:35.562 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 18, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:22:35.583 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 18, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:22:35.587 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:35.590 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23152 environment=dev
2025-12-29 08:22:35.594 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 19, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:23:00.951 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 19, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23152 environment=dev
2025-12-29 08:28:46.006 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25272 environment=dev
2025-12-29 08:28:46.009 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-25272 environment=dev
2025-12-29 08:28:46.011 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:28:46.104 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:37.626 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:37.646 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:37.653 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:37.678 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:37.696 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:37.704 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:37.719 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:37.729 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:37.878 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:37.886 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:37.889 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:37.903 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:37.910 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.231 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.241 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members from schema: ['id', 'workspace_id', 'user_id', 'role', 'created_at', 'updated_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.259 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspaces from schema: ['id', 'name', 'description', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.281 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.292 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.303 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.310 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.315 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.332 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.345 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.348 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.362 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.375 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.387 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.406 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.422 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.438 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.443 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.446 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.466 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.475 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.486 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.734 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.746 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members from schema: ['id', 'workspace_id', 'user_id', 'role', 'created_at', 'updated_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.755 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.761 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.762 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.780 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.790 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.792 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.794 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:42.800 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:42.809 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:44.369 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:29:44.385 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:44.395 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:58.697 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:58.703 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:59.713 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'name'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:29:59.731 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:30:00.279 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'name'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:30:00.295 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:30:00.313 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'name'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:30:00.323 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:30:00.331 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:30:00.345 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:30:00.361 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:30:00.367 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:30:00.367 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:30:00.384 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:30:00.384 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:30:00.404 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-25272 environment=dev
2025-12-29 08:30:00.411 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:30:10.961 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 17, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25272 environment=dev
2025-12-29 08:35:20.537 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-13176 environment=dev
2025-12-29 08:35:20.553 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-13176 environment=dev
2025-12-29 08:35:20.553 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:20.983 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:24.419 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:24.716 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:24.769 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:24.801 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:24.873 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:24.911 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:24.996 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:25.100 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:30.669 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:30.706 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.711 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field owner_user_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.718 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.727 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.734 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.744 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.744 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.751 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field capabilities in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.759 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.765 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.778 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.791 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.794 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.805 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.812 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.827 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.828 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.846 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column owner_user_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.861 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.876 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.904 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:30.925 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:31.477 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:31.594 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column capabilities to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:31.742 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:32.496 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:32.683 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:32.700 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:32.715 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:32.740 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:32.757 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:32.779 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:32.810 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'owner_user_id', 'workspace_id', 'system_prompt', 'model', 'provider', 'tools', 'capabilities', 'context_schema', 'metadata', 'temperature', 'max_tokens', 'memory_strategy', 'memory_params', 'premium_provider', 'premium_model'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:32.850 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:32.875 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:32.893 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:32.898 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:35.786 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:35.853 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:35.881 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field description in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:35.894 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in workspaces with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:35.920 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:35.937 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column description to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:35.989 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.026 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspaces_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'description', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:36.099 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.131 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.131 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.354 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.482 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.530 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.605 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members_history from schema: ['id', '0', '1', '2', '3', '4', '5', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'workspace_id', 'user_id', 'role'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:36.688 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.704 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.730 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.737 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.737 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.753 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.753 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.769 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.785 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.804 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.833 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.850 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.871 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.876 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.897 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.929 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.961 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.976 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:36.976 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:37.009 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:37.040 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:37.069 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:37.228 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:37.296 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:37.331 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:37.349 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:37.381 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:37.393 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:37.431 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:37.457 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:37.464 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:37.501 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:37.531 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:37.557 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:37.588 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:37.615 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:37.669 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:37.675 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:37.710 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:37.738 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:37.765 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:37.790 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:37.935 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:37.988 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members from schema: ['id', 'workspace_id', 'user_id', 'role', 'created_at', 'updated_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:38.033 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:38.050 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:38.054 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:38.087 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:38.133 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:38.159 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:38.165 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:38.197 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:38.247 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:41.040 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:41.076 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:41.098 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:41.149 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:41.176 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:43.307 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.345 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.355 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.361 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.374 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.388 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.410 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.438 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.613 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.637 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.677 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.721 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.755 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.779 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:43.817 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:43.856 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:44.295 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:44.338 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:44.386 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:44.437 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 08:35:44.471 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'name'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:44.513 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:44.653 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:44.710 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:44.770 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 17, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:44.809 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:44.825 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 18, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:44.887 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 18, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:44.937 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:44.961 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:44.989 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 19, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:51.176 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 19, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-13176 environment=dev
2025-12-29 08:35:51.377 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:51.467 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:51.525 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:51.572 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:52.127 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'name'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:55.588 [WARN] [WARN] track_slow - wrapper -  Slow method SqliteAsyncConnection.execute took 3.45s. Args=["INSERT INTO [messages_history] ([thread_id], [role], [content], [tool_calls], [tool_call_id], [attachments], [metadata], [id], [version], [history_timestamp], [history_user_id], [history_comment]) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)", ["f6a0c87a-0502-4d1c-9cb0-bd1297df4952", "user", "im phil", "[]", null, "[]", "{}", "1d2fed94-c55a-4f1a-be7a-647d33f8fda9", 1, "2025-12-29T07:35:52.123120+00:00", null, null]] Kwargs={} | component=track_slow subcomponent=wrapper service_name=service-13176 environment=dev
2025-12-29 08:35:55.924 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-13176 environment=dev
2025-12-29 08:35:56.691 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-13176 environment=dev
2025-12-29 09:36:51.530 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-23496 environment=dev
2025-12-29 09:36:51.546 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-23496 environment=dev
2025-12-29 09:36:51.546 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:36:51.831 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:25.266 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:26.518 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:26.582 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:26.638 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:26.714 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:26.775 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:27.373 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:27.497 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:32.614 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:32.681 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.684 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field owner_user_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.699 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.704 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.712 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.716 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.716 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.734 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field capabilities in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.746 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.753 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.765 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.771 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.784 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.796 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.802 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.815 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.834 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.870 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column owner_user_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.917 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:32.957 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.000 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.049 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.087 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.135 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column capabilities to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.175 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.210 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.264 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.294 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.328 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.364 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.397 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.421 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:33.503 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'owner_user_id', 'workspace_id', 'system_prompt', 'model', 'provider', 'tools', 'capabilities', 'context_schema', 'metadata', 'temperature', 'max_tokens', 'memory_strategy', 'memory_params', 'premium_provider', 'premium_model'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:33.570 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:33.616 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:33.631 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:33.636 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:36.927 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:36.977 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:36.983 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field description in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:36.988 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in workspaces with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:36.998 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.021 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column description to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.032 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.049 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspaces_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'description', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:37.099 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.119 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.132 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.151 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.168 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.189 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.215 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members_history from schema: ['id', '0', '1', '2', '3', '4', '5', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'workspace_id', 'user_id', 'role'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:37.276 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.289 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.293 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.297 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.305 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.318 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.323 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.340 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.356 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.374 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.406 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.422 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.436 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.455 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.455 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.472 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.483 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.483 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.500 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.517 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.533 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.557 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.579 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 09:38:37.644 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:37.696 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:37.719 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:37.737 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:37.741 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:37.769 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:37.787 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:37.793 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:37.820 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:37.837 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:37.851 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:37.878 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:37.884 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:37.918 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:37.922 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:37.941 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:37.965 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:37.975 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:37.982 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:38.271 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:38.305 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members from schema: ['id', 'workspace_id', 'user_id', 'role', 'created_at', 'updated_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:38.322 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:38.336 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:38.340 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:38.400 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:38.424 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:38.428 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:38.428 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:38.455 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:38.485 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:40.415 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-23496 environment=dev
2025-12-29 09:38:40.448 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:40.468 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:40.631 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:40.673 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-23496 environment=dev
2025-12-29 09:38:46.214 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-23496 environment=dev
2025-12-29 11:39:06.372 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12072 environment=dev
2025-12-29 11:39:06.403 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.05s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-12072 environment=dev
2025-12-29 11:39:06.403 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:06.466 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:29.656 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:29.884 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:30.140 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:30.290 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:30.448 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:30.608 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:30.946 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:31.459 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:42.534 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:43.377 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.393 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field owner_user_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.504 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.541 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.684 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.711 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.723 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.739 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field capabilities in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.789 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.795 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.806 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.815 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.819 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.824 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.824 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.831 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.840 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.856 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column owner_user_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.872 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.888 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.896 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.907 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.919 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.931 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column capabilities to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:43.956 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:44.039 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:44.055 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:44.064 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:44.096 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:44.193 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:44.198 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:44.205 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:44.217 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'owner_user_id', 'workspace_id', 'system_prompt', 'model', 'provider', 'tools', 'capabilities', 'context_schema', 'metadata', 'temperature', 'max_tokens', 'memory_strategy', 'memory_params', 'premium_provider', 'premium_model'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:44.233 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:44.234 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:44.336 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'owner_user_id', 'workspace_id', 'system_prompt', 'model', 'provider', 'tools', 'capabilities', 'context_schema', 'metadata', 'temperature', 'max_tokens', 'memory_strategy', 'memory_params', 'premium_provider', 'premium_model'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:44.361 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:44.365 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:44.387 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:44.389 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:44.395 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:44.504 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:44.509 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:48.242 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:48.260 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:48.280 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:48.289 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:48.298 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'owner_user_id', 'workspace_id', 'system_prompt', 'model', 'provider', 'tools', 'capabilities', 'context_schema', 'metadata', 'temperature', 'max_tokens', 'memory_strategy', 'memory_params', 'premium_provider', 'premium_model'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:48.311 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:48.325 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:48.336 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:48.340 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:51.722 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:51.748 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:51.757 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field description in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:51.757 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in workspaces with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:51.766 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:51.772 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column description to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:51.781 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:51.790 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspaces_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'description', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:53.874 [WARN] [WARN] track_slow - wrapper -  Slow method SqliteAsyncConnection.execute took 2.05s. Args=["\n            CREATE TABLE IF NOT EXISTS [workspace_members_history] (\n                [id] TEXT, [0] TEXT, [1] TEXT, [2] TEXT, [3] TEXT, [4] TEXT, [5] TEXT, [version] INTEGER, [history_timestamp] TEXT, [history_user_id] TEXT, [history_comment] TEXT,\n                PRIMARY KEY (id, version)\n            )\n        ", []] Kwargs={} | component=track_slow subcomponent=wrapper service_name=service-12072 environment=dev
2025-12-29 11:39:53.886 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:53.892 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:53.966 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:53.981 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:53.989 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:53.995 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.008 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members_history from schema: ['id', '0', '1', '2', '3', '4', '5', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'workspace_id', 'user_id', 'role'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.073 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.079 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.083 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.085 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.089 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.091 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.095 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.097 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.099 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.105 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.113 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.119 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.123 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.131 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.137 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.143 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.149 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.155 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.161 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.167 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.173 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.177 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.185 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:54.203 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.213 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.235 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.250 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.254 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.280 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.292 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.292 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.372 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.403 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.427 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.469 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.484 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.504 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.508 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.536 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.548 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.554 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.561 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.816 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 17, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.852 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members from schema: ['id', 'workspace_id', 'user_id', 'role', 'created_at', 'updated_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.864 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.873 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.881 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 18, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.940 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 18, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.957 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.965 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 19, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.969 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 19, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:54.983 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:54.994 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 20, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:58.097 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 20, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:39:58.112 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:58.140 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:58.154 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:58.164 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:59.277 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.281 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.288 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.288 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.288 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.288 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.299 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.303 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.303 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.325 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.335 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.340 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.355 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.355 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.383 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:59.414 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:59.882 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:59.894 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:59.911 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.920 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:39:59.939 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'name'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:59.948 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:59.977 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:39:59.993 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 21, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:40:00.018 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 22, "total_released": 21, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:40:00.027 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:00.029 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 22, "total_released": 22, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:40:00.043 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 23, "total_released": 22, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:40:00.049 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:00.056 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:00.064 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 23, "total_released": 23, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:40:04.121 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 24, "total_released": 23, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:40:04.158 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:04.168 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:04.177 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:04.185 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:04.226 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'name'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:04.243 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:04.815 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:40:04.819 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:40:04.823 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field schema in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:40:04.823 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field last_reason in user_context with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:40:04.836 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:40:04.840 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:40:04.846 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column schema to table user_context | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:40:04.857 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column schema to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:40:04.864 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column last_reason to table user_context | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:40:04.872 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column last_reason to history table user_context_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-12072 environment=dev
2025-12-29 11:40:04.890 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context_history from schema: ['id', '0', '1', '2', '3', '4', '5', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'user_id', 'context', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:05.724 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'name'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:05.740 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:05.774 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'name'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:05.789 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:05.825 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:05.839 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'thread_id', 'context', 'created_at', 'updated_at', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:05.841 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 24, "total_released": 24, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:40:05.857 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 25, "total_released": 24, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:40:05.867 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:05.869 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 25, "total_released": 25, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:40:05.884 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 26, "total_released": 25, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:40:05.890 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:05.890 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:05.902 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for user_context from schema: ['id', 'user_id', 'thread_id', 'context', 'created_at', 'updated_at', 'schema', 'last_reason'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-12072 environment=dev
2025-12-29 11:40:05.902 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 26, "total_released": 26, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-12072 environment=dev
2025-12-29 11:44:33.706 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-12072 environment=dev
2025-12-29 11:44:33.894 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-12072 environment=dev
2025-12-29 11:44:34.021 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12072 environment=dev
2025-12-29 11:44:34.021 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-12072 environment=dev
2025-12-29 12:02:13.240 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-10660 environment=dev
2025-12-29 12:02:13.240 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-10660 environment=dev
2025-12-29 12:02:13.257 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:02:13.386 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:01.478 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:02.132 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:02.269 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:02.324 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:02.439 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:02.533 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:02.622 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:02.705 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:08.196 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:08.328 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.335 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field owner_user_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.344 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.479 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.489 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.502 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.511 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.518 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field capabilities in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.521 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.527 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.531 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.576 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.654 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.662 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.669 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.675 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.690 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.710 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column owner_user_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.809 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.819 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.833 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.849 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.857 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.958 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column capabilities to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:08.972 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:09.127 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:09.176 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:09.274 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:09.374 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:09.381 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:09.406 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:10.748 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:10.822 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'owner_user_id', 'workspace_id', 'system_prompt', 'model', 'provider', 'tools', 'capabilities', 'context_schema', 'metadata', 'temperature', 'max_tokens', 'memory_strategy', 'memory_params', 'premium_provider', 'premium_model'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:10.864 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:11.042 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:11.077 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:11.091 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:14.182 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:14.260 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:14.262 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field description in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:14.279 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in workspaces with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:14.306 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:14.328 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column description to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:14.379 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:14.431 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspaces_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'description', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:14.580 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:14.585 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:14.593 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:14.687 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:14.695 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:14.711 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:14.815 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members_history from schema: ['id', '0', '1', '2', '3', '4', '5', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'workspace_id', 'user_id', 'role'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:15.052 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:15.211 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:15.424 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:15.606 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:15.720 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:16.144 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:16.341 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:16.515 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:16.758 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:16.935 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:17.283 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:17.328 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:17.582 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:17.592 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:17.738 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:17.914 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:18.120 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:18.156 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:18.183 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:18.188 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:18.203 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:18.260 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:18.285 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:03:18.310 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:18.318 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:18.334 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:18.451 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:18.458 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:18.482 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:18.515 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:18.540 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:18.786 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:19.073 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:19.150 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:19.327 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:19.434 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:19.500 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:19.541 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:19.557 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:19.590 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:19.639 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:19.697 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:19.713 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:19.879 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members from schema: ['id', 'workspace_id', 'user_id', 'role', 'created_at', 'updated_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:20.009 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:20.034 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:20.044 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:20.368 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:20.478 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:20.507 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:20.509 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:20.533 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:20.553 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:22.419 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-10660 environment=dev
2025-12-29 12:03:22.444 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:22.452 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:22.517 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:22.533 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-10660 environment=dev
2025-12-29 12:03:28.321 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-10660 environment=dev
2025-12-29 12:21:39.441 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25488 environment=dev
2025-12-29 12:21:39.491 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.08s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-25488 environment=dev
2025-12-29 12:21:39.515 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25488 environment=dev
2025-12-29 12:21:42.184 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25488 environment=dev
2025-12-29 12:21:48.245 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-25488 environment=dev
2025-12-29 12:21:48.265 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-25488 environment=dev
2025-12-29 12:21:48.271 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25488 environment=dev
2025-12-29 12:21:48.275 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25488 environment=dev
2025-12-29 12:21:48.114 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25940 environment=dev
2025-12-29 12:21:48.138 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.03s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-25940 environment=dev
2025-12-29 12:21:48.144 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25940 environment=dev
2025-12-29 12:21:48.425 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25940 environment=dev
2025-12-29 12:25:33.138 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25940 environment=dev
2025-12-29 12:25:33.376 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25940 environment=dev
2025-12-29 12:25:33.394 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25940 environment=dev
2025-12-29 12:25:33.412 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25940 environment=dev
2025-12-29 12:25:33.432 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25940 environment=dev
2025-12-29 12:25:33.452 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25940 environment=dev
2025-12-29 12:25:33.668 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25940 environment=dev
2025-12-29 12:25:33.704 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25940 environment=dev
2025-12-29 12:29:18.683 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-25940 environment=dev
2025-12-29 12:29:18.736 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-25940 environment=dev
2025-12-29 12:29:18.751 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25940 environment=dev
2025-12-29 12:29:18.754 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25940 environment=dev
2025-12-29 12:29:49.963 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-26016 environment=dev
2025-12-29 12:29:49.971 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-26016 environment=dev
2025-12-29 12:29:49.971 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:29:50.104 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:29:57.787 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:29:59.029 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:29:59.480 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:29:59.521 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:29:59.663 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:29:59.689 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:29:59.829 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:29:59.987 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:05.424 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:05.494 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.503 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field owner_user_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.505 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.510 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.519 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.528 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.543 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.551 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field capabilities in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.551 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.568 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.585 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.594 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.601 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.610 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.627 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.644 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.660 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.701 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column owner_user_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.744 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.769 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.804 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.844 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.863 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.917 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column capabilities to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.959 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:05.993 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:06.024 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:06.065 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:06.104 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:06.119 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:06.133 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:06.151 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:06.189 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'owner_user_id', 'workspace_id', 'system_prompt', 'model', 'provider', 'tools', 'capabilities', 'context_schema', 'metadata', 'temperature', 'max_tokens', 'memory_strategy', 'memory_params', 'premium_provider', 'premium_model'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:06.251 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:06.409 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:06.458 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:06.475 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:10.680 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:10.761 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:10.768 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field description in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:10.783 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in workspaces with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:10.801 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.023 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column description to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.089 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.160 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspaces_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'description', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:11.308 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.313 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.320 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.337 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.353 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.386 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.417 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members_history from schema: ['id', '0', '1', '2', '3', '4', '5', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'workspace_id', 'user_id', 'role'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:11.468 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.518 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.560 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.568 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.584 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.593 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.604 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.606 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.617 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.728 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.791 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.819 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.861 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.878 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.923 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.957 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.985 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:11.997 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:12.005 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:12.020 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:12.031 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:12.040 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:12.081 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:12.133 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:12.165 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:12.345 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:12.514 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:12.519 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:12.558 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:12.587 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:12.612 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:12.808 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:12.839 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:12.897 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:13.013 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:13.097 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:13.126 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:13.134 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:13.142 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:13.178 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:13.188 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:13.208 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:13.542 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:13.575 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members from schema: ['id', 'workspace_id', 'user_id', 'role', 'created_at', 'updated_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:13.600 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:13.616 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:13.627 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:13.722 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:13.760 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:13.766 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:13.771 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:13.813 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:13.953 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:15.980 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-26016 environment=dev
2025-12-29 12:30:16.013 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:16.029 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:16.071 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:16.095 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-26016 environment=dev
2025-12-29 12:30:20.739 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:20.747 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:20.755 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:20.780 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:20.788 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 12:30:21.048 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-26016 environment=dev
2025-12-29 13:55:36.817 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-15752 environment=dev
2025-12-29 13:55:36.827 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-15752 environment=dev
2025-12-29 13:55:36.829 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:36.968 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:37.633 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:37.664 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:37.684 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:37.697 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:37.721 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:37.742 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:40.799 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:40.820 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:40.845 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:40.855 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:40.881 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:40.901 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:43.452 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:43.469 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:43.485 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:43.503 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:43.521 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:43.534 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:47.112 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:47.136 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:47.151 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:47.168 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:47.202 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:47.225 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:56.695 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:56.720 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:56.752 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:56.793 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:56.825 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 13:55:56.859 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-15752 environment=dev
2025-12-29 14:36:58.507 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-15752 environment=dev
2025-12-29 14:36:58.591 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-15752 environment=dev
2025-12-29 14:36:58.691 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-15752 environment=dev
2025-12-29 14:36:58.694 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-15752 environment=dev
2025-12-29 14:37:12.795 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-27152 environment=dev
2025-12-29 14:37:12.806 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.01s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-27152 environment=dev
2025-12-29 14:37:12.806 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:12.868 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:12.904 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:12.917 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:13.012 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:13.018 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:13.034 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:13.039 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:13.053 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:13.063 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:13.077 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:13.087 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:20.161 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:20.178 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.178 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field owner_user_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.178 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.178 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.191 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.191 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.197 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.200 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field capabilities in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.202 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.205 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.207 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.209 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.209 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.209 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.209 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.209 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.223 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.228 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column owner_user_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.228 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.238 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.238 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.255 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.261 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.270 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column capabilities to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.270 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.285 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.301 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.317 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.317 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.317 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.333 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.333 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:20.352 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'owner_user_id', 'workspace_id', 'system_prompt', 'model', 'provider', 'tools', 'capabilities', 'context_schema', 'metadata', 'temperature', 'max_tokens', 'memory_strategy', 'memory_params', 'premium_provider', 'premium_model'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-27152 environment=dev
2025-12-29 14:37:20.365 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:20.376 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:20.384 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-27152 environment=dev
2025-12-29 14:37:20.392 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:24.671 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:24.692 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.695 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field description in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.695 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in workspaces with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.701 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.701 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column description to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.701 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.713 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspaces_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'description', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-27152 environment=dev
2025-12-29 14:37:24.726 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.726 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.726 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.726 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.726 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.742 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.742 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members_history from schema: ['id', '0', '1', '2', '3', '4', '5', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'workspace_id', 'user_id', 'role'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-27152 environment=dev
2025-12-29 14:37:24.758 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.764 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.764 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.764 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.768 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.768 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.768 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.768 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.768 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.774 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.774 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.774 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.774 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.774 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.774 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.791 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.797 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.801 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.801 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.806 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.810 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.815 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.820 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-27152 environment=dev
2025-12-29 14:37:24.829 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-27152 environment=dev
2025-12-29 14:37:24.834 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:24.842 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:24.855 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-27152 environment=dev
2025-12-29 14:37:24.856 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:24.861 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:24.869 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-27152 environment=dev
2025-12-29 14:37:24.869 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:24.880 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:24.886 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-27152 environment=dev
2025-12-29 14:37:24.886 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:24.903 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:24.917 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-27152 environment=dev
2025-12-29 14:37:24.927 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-27152 environment=dev
2025-12-29 14:37:24.929 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:24.938 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:24.938 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-27152 environment=dev
2025-12-29 14:37:24.951 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-27152 environment=dev
2025-12-29 14:37:24.951 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 14:37:25.225 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-27152 environment=dev
2025-12-29 15:51:35.365 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-19044 environment=dev
2025-12-29 15:51:35.370 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-19044 environment=dev
2025-12-29 15:51:35.370 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:51:35.581 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:51:42.640 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:51:42.962 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:51:43.003 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:51:43.037 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:51:43.053 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:51:43.067 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:12.558 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:12.601 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.608 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field owner_user_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.615 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.618 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.626 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.634 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.643 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.651 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field capabilities in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.659 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.668 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.668 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.676 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.676 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.684 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.685 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.693 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.701 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.717 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column owner_user_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.734 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.775 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.796 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.803 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.813 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.817 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column capabilities to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.823 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.831 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.837 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.844 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.852 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.860 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.877 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.905 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:12.997 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'owner_user_id', 'workspace_id', 'system_prompt', 'model', 'provider', 'tools', 'capabilities', 'context_schema', 'metadata', 'temperature', 'max_tokens', 'memory_strategy', 'memory_params', 'premium_provider', 'premium_model'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:13.016 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:13.038 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:13.050 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:13.054 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:16.885 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:16.910 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:16.912 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field description in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:16.915 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in workspaces with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:16.921 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:16.947 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column description to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:16.963 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.040 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspaces_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'description', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:17.078 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.151 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.172 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.181 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.186 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.193 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.204 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members_history from schema: ['id', '0', '1', '2', '3', '4', '5', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'workspace_id', 'user_id', 'role'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:17.226 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.231 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.264 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.314 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.328 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.330 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.333 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.335 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.337 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.342 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.349 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.354 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.359 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.363 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.367 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.371 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.377 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.379 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.396 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.406 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.437 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.453 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.470 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 15:52:17.511 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:17.525 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:17.549 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:17.569 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:17.574 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:17.690 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:17.699 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:17.702 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:17.718 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:17.726 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:17.731 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:17.749 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:17.822 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:17.835 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:17.836 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:17.840 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:17.887 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:17.911 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:17.924 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:18.101 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:18.138 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members from schema: ['id', 'workspace_id', 'user_id', 'role', 'created_at', 'updated_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:18.145 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:18.154 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:18.162 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:18.238 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:18.307 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:18.310 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:18.311 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:18.319 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:18.349 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:21.164 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-19044 environment=dev
2025-12-29 15:52:21.177 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:21.182 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:21.227 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:21.232 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-19044 environment=dev
2025-12-29 15:52:25.443 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-19044 environment=dev
2025-12-29 16:07:34.507 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25240 environment=dev
2025-12-29 16:07:34.507 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.00s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-25240 environment=dev
2025-12-29 16:07:34.514 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25240 environment=dev
2025-12-29 16:07:34.550 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25240 environment=dev
2025-12-29 16:07:41.157 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25240 environment=dev
2025-12-29 16:07:41.182 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25240 environment=dev
2025-12-29 16:07:41.196 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25240 environment=dev
2025-12-29 16:07:41.212 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25240 environment=dev
2025-12-29 16:07:41.226 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25240 environment=dev
2025-12-29 16:07:41.243 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-25240 environment=dev
2025-12-29 16:10:28.151 [INFO] [INFO] pool_manager - close_pool -  Pool 8b88d2db2dfd3952 marked as shutting down, no new connections allowed | component=pool_manager subcomponent=close_pool service_name=service-25240 environment=dev
2025-12-29 16:10:28.215 [INFO] [INFO] pool_manager - close_pool -  Pool for 8b88d2db2dfd3952 closed | component=pool_manager subcomponent=close_pool service_name=service-25240 environment=dev
2025-12-29 16:10:28.238 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task cancelled | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25240 environment=dev
2025-12-29 16:10:28.241 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Leak detection task for ./data/agents.db exiting | pool_name=./data/agents.db component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-25240 environment=dev
2025-12-29 16:10:43.948 [INFO] [INFO] SqlitePoolManager - _leak_detection_task -  Task started: will check and reclaim leaked or idle connections from the pool | pool_name=./data/agents.db check_interval_mins=5 component=SqlitePoolManager subcomponent=_leak_detection_task service_name=service-6348 environment=dev
2025-12-29 16:10:43.963 [INFO] [INFO] SqlitePoolManager - _initialize_pool_if_needed -  ./data/agents.db pool initialized in 0.02s | component=SqlitePoolManager subcomponent=_initialize_pool_if_needed service_name=service-6348 environment=dev
2025-12-29 16:10:43.965 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 0, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:44.083 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 1, "total_released": 1, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:44.137 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 1, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:44.158 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 2, "total_released": 2, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:44.206 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 2, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:44.225 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 3, "total_released": 3, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:44.244 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 3, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:44.257 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 4, "total_released": 4, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:44.281 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 4, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:44.300 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 5, "total_released": 5, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:44.319 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 5, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:44.339 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 6, "total_released": 6, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:51.275 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 6, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:51.305 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.318 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field owner_user_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.318 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.318 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field system_prompt in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.318 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.334 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.334 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tools in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.334 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field capabilities in agents with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.350 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field context_schema in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.355 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.355 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field temperature in agents with type float | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.355 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field max_tokens in agents with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.355 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_strategy in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.367 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field memory_params in agents with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.367 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_provider in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.367 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field premium_model in agents with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.367 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.382 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column owner_user_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.382 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.398 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column system_prompt to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.398 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.414 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.430 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tools to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.430 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column capabilities to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.446 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column context_schema to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.446 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.465 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column temperature to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.465 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column max_tokens to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.484 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_strategy to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.492 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column memory_params to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.499 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_provider to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.507 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column premium_model to history table agents_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:51.521 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'owner_user_id', 'workspace_id', 'system_prompt', 'model', 'provider', 'tools', 'capabilities', 'context_schema', 'metadata', 'temperature', 'max_tokens', 'memory_strategy', 'memory_params', 'premium_provider', 'premium_model'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:51.537 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 7, "total_released": 7, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:51.537 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 7, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:51.563 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:51.565 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 8, "total_released": 8, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:54.515 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 8, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:54.552 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.569 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field description in workspaces with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.569 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in workspaces with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.584 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.584 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column description to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.601 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table workspaces_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.617 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspaces_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'name', 'description', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:54.680 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.700 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.700 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in workspace_members with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.727 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.744 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.770 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table workspace_members_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.808 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members_history from schema: ['id', '0', '1', '2', '3', '4', '5', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'workspace_id', 'user_id', 'role'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:54.869 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field agent_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.871 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field workspace_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.888 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field title in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.888 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field config in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.906 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field user_id in threads with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.906 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in threads with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.921 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field message_count in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.925 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field total_bytes in threads with type int | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.926 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field archived in threads with type bool | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.926 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column agent_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.937 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column workspace_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.937 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column title to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.953 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.956 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column config to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.956 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.971 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column user_id to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.971 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.988 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.988 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column message_count to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:54.988 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:55.002 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column total_bytes to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:55.004 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to table threads | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:55.004 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column archived to history table threads_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:55.021 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.038 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 9, "total_released": 9, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.059 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 9, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.070 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.070 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 10, "total_released": 10, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.092 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 10, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.107 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.110 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 11, "total_released": 11, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.123 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 11, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.138 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.156 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 12, "total_released": 12, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.174 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 12, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.303 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.321 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.321 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 13, "total_released": 13, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.337 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 13, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.354 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.354 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.370 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 14, "total_released": 14, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.495 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 14, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.504 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for workspace_members from schema: ['id', 'workspace_id', 'user_id', 'role', 'created_at', 'updated_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.504 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.530 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.536 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 15, "total_released": 15, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.568 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 15, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.583 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.587 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 16, "total_released": 16, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.589 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 16, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:55.600 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:55.609 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 17, "total_released": 17, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:57.345 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 17, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:57.357 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:57.370 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:57.387 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:57.403 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:58.520 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field thread_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.520 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field role in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.537 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field content in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.537 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_calls in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.537 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field tool_call_id in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.553 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field attachments in messages with type list | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.570 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field metadata in messages with type dict | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.578 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column thread_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.587 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column role to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.603 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column content to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.620 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_calls to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.620 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column tool_call_id to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.653 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column attachments to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.653 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column metadata to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:58.670 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:58.686 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:59.086 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:59.086 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:59.112 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Found new field name in messages with type str | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:59.120 [INFO] [INFO] SqliteAsyncConnection - _update_entity_metadata -  Adding column name to history table messages_history | component=SqliteAsyncConnection subcomponent=_update_entity_metadata service_name=service-6348 environment=dev
2025-12-29 16:10:59.137 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'attachments', 'metadata', 'name'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:59.153 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for messages from schema: ['id', 'thread_id', 'role', 'content', 'tool_calls', 'tool_call_id', 'name', 'attachments', 'metadata', 'created_at', 'updated_at', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:59.186 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads_history from schema: ['id', '0', '1', '2', '3', '4', '5', '6', '7', 'version', 'history_timestamp', 'history_user_id', 'history_comment', 'agent_id', 'workspace_id', 'title', 'config', 'user_id', 'metadata', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:59.186 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 18, "total_released": 18, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:59.209 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 18, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:59.220 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:59.221 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 19, "total_released": 19, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:59.221 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 19, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:10:59.238 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for threads from schema: ['id', 'agent_id', 'workspace_id', 'title', 'metadata', 'created_at', 'updated_at', 'deleted_at', 'config', 'user_id', 'message_count', 'total_bytes', 'archived'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:59.238 [INFO] [INFO] SqliteAsyncConnection - _get_field_names -  Got field names for agents from schema: ['id', 'name', 'system_prompt', 'model', 'provider', 'premium_provider', 'premium_model', 'temperature', 'max_tokens', 'tools', 'guardrails', 'memory_strategy', 'memory_params', 'context_schema', 'capabilities', 'owner_user_id', 'workspace_id', 'metadata', 'created_at', 'updated_at', 'created_by', 'updated_by', 'deleted_at'] | component=SqliteAsyncConnection subcomponent=_get_field_names service_name=service-6348 environment=dev
2025-12-29 16:10:59.258 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 0, "idle": 1, "active_connections": 1, "shutting_down": false, "metrics": {"total_acquired": 20, "total_released": 20, "current_active": 0, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
2025-12-29 16:11:03.249 [INFO] [INFO] SqlitePoolManager - _track_metrics -  Pool status:
{"initialized": true, "alias": "./data/agents.db", "hash": "8b88d2db2dfd3952", "min_size": 1, "max_size": 1, "current_size": 1, "in_use": 1, "idle": 0, "active_connections": 0, "shutting_down": false, "metrics": {"total_acquired": 21, "total_released": 20, "current_active": 1, "peak_active": 1, "errors": 0, "timeouts": 0, "last_timeout": null, "avg_acquisition_time": 0.0}} | component=SqlitePoolManager subcomponent=_track_metrics service_name=service-6348 environment=dev
